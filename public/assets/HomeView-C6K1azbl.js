import{L as k,B as E}from"./BaseLayout-BXKwRS5r.js";import{I as T}from"./IconUser-DgOdRXra.js";import{_ as f,x as n,g as o,h as e,i as r,t as _,o as u,s as c,e as I,f as C,u as $,l as L,v as R,z as B,k as N,F as U,A as F,q as b,B as P,n as g,w as D}from"./index-CdS1nXcy.js";import{F as O}from"./FailToast-tpljgR0e.js";const z={},M={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function A(s,t){return n(),o("svg",M,t[0]||(t[0]=[e("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},null,-1)]))}const x=f(z,[["render",A]]),H={},V={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function W(s,t){return n(),o("svg",V,t[0]||(t[0]=[e("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},null,-1)]))}const q=f(H,[["render",W]]),G={},K={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function j(s,t){return n(),o("svg",K,t[0]||(t[0]=[e("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},null,-1)]))}const J=f(G,[["render",j]]),Q={props:{friend:{type:Object,default(s){return{friendId:null,friendName:"",friendDescription:"",friendCountry:"",friendCity:"",friendImg:null,reqId:null,reqAcceptedDate:null,sendId:null,sendAcceptedDate:null}}}},components:{IconUser:T},computed:{hasFriend(){return this.friend.friendId!=null}}},X={key:0,class:"friend-card"},Y={class:"friend-card-img"},Z=["src"],ee={key:1,class:"icon-lg"},te={class:"friend-card-name"};function se(s,t,l,p,i,a){const d=c("IconUser");return a.hasFriend?(n(),o("div",X,[e("div",Y,[l.friend.friendImg?(n(),o("img",{key:0,src:l.friend.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,Z)):(n(),o("span",ee,[r(d)]))]),e("div",te,[e("h5",null,_(l.friend.friendName),1)]),t[0]||(t[0]=e("div",{class:"friend-card-action"}," Actions!!! ",-1))])):u("",!0)}const ne=f(Q,[["render",se]]),ie={components:{IconSearch:x,LoadingOverlay:k,FailToast:O,FriendCard:ne},data(){return{submitting:!1,searchText:"",firstSearch:!0,searchResult:[],searchError:!1,paginationIndex:0,paginationStep:5}},computed:{...I($,["lg"]),hasSearchResult(){return this.searchResult.length>0},hasPagination(){return this.searchResult.length>this.paginationStep},rightPaginationDisabled(){return this.paginationIndex*this.paginationStep>=this.searchResult.length},cardsToShow(){let s=[];if(!this.hasSearchResult)return s;let t=this.paginationIndex*this.paginationStep;t>this.searchResult.length-1&&(t=this.searchResult.length-1);let l=t+this.paginationStep;l>this.searchResult.length&&(l=this.searchResult.length);for(let p=t;p<l;p++)s.push(this.searchResult[p]);return s}},methods:{calculatePaginationStep(){if(window.innerWidth>1600){this.paginationStep=5;return}if(window.innerWidth>1160){this.paginationStep=4;return}if(window.innerWidth>900){this.paginationStep=3;return}if(window.innerWidth>749){this.paginationStep=2;return}if(window.innerWidth>665){this.paginationStep=3;return}if(window.innerWidth>500){this.paginationStep=2;return}this.paginationStep=1},searchUsers(){this.searchText.trim()!=""&&(this.firstSearch=!1,this.submitting=!0,this.searchError=!1,C.get("/api/resources/search-user?un="+this.searchText.trim()).then(s=>{this.submitting=!1,this.searchResult=s.data.users}).catch(s=>{this.submitting=!1,this.searchError=!0,setTimeout(()=>{this.searchError=!1},3e3),console.log(s)}))},paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++}},mounted(){this.submitting=!1,this.searchText="",this.firstSearch=!0,document.getElementById("search_input").focus(),window.addEventListener("resize",this.calculatePaginationStep),this.calculatePaginationStep()},beforeUnmount(){window.removeEventListener("resize",this.calculatePaginationStep)}},oe={class:"search-menu"},ae={class:"user-search-input"},ce={for:"search_input"},re={class:"password-container"},le=["disabled"],de=["disabled"],he={class:"icon"},_e={key:0,class:"search-result-holder"},ue={class:"results"},pe={key:0},fe=["disabled"],me={class:"result-cards"},ge={key:1},be=["disabled"],ve={key:1,class:"search-result-no-result-holder"},Se={key:0},we={key:1};function Te(s,t,l,p,i,a){const d=c("IconSearch"),m=c("FriendCard"),v=c("LoadingOverlay"),S=c("FailToast");return n(),o("div",null,[e("div",oe,[e("div",ae,[e("label",ce,_(s.lg("user_search")),1),e("div",re,[L(e("input",{id:"search_input",type:"text","onUpdate:modelValue":t[0]||(t[0]=h=>i.searchText=h),disabled:i.submitting,onKeypress:t[1]||(t[1]=B((...h)=>a.searchUsers&&a.searchUsers(...h),["enter"]))},null,40,le),[[R,i.searchText]]),e("button",{type:"button",onClick:t[2]||(t[2]=(...h)=>a.searchUsers&&a.searchUsers(...h)),disabled:i.submitting},[e("span",he,[r(d)])],8,de)])])]),e("div",null,[a.hasSearchResult?(n(),o("div",_e,[e("p",null,[e("span",null,_(i.searchResult.length),1),t[3]||(t[3]=N()),e("span",null,_(s.lg("results")),1)]),e("div",ue,[a.hasPagination?(n(),o("div",pe,[e("button",{type:"button",disabled:i.paginationIndex==0,class:"pag-btn"},"<",8,fe)])):u("",!0),e("div",me,[(n(!0),o(U,null,F(a.cardsToShow,h=>(n(),b(m,{key:"friend_"+h.friendId,friend:h},null,8,["friend"]))),128))]),a.hasPagination?(n(),o("div",ge,[e("button",{type:"button",disabled:a.rightPaginationDisabled,class:"pag-btn"},">",8,be)])):u("",!0)])])):(n(),o("div",ve,[i.firstSearch?(n(),o("p",Se,_(s.lg("user_search_before")),1)):(n(),o("p",we,_(s.lg("user_search_not_find")),1))]))]),i.submitting?(n(),b(v,{key:0})):u("",!0),i.searchError?(n(),b(S,{key:1})):u("",!0)])}const Ie=f(ie,[["render",Te]]),$e={components:{IconUser:T,IconEarth:P,IconSearch:x,IconLeft:q,IconRight:J,SearchContactTab:Ie},data(){return{selectedTab:"SOME"}},computed:{...I($,["lg"])},methods:{selectTab(s){s==this.selectedTab?this.selectedTab="NONE":this.selectedTab=s}}},xe={class:"contact-tabs"},ye={class:"tab"},ke={class:"icon"},Ee={class:"icon"},Ce={class:"tab-text"},Le={class:"icon"},Re={class:"icon"},Be={class:"tab-text"},Ne={class:"icon"},Ue={class:"icon"},Fe={class:"tab-text"},Pe={class:"icon"},De={class:"icon"},Oe={class:"tab-text"},ze={key:0,class:"tab-content"},Me={key:0},Ae={key:1},He={key:2},Ve={key:3};function We(s,t,l,p,i,a){const d=c("IconUser"),m=c("IconEarth"),v=c("IconSearch"),S=c("IconLeft"),h=c("IconRight"),y=c("SearchContactTab");return n(),o("div",xe,[e("div",ye,[e("span",{class:g(["tab-menu",{"active-tab":i.selectedTab=="SOME"}]),onClick:t[0]||(t[0]=w=>a.selectTab("SOME"))},[e("span",ke,[r(d)]),e("span",Ee,[r(m)]),e("span",Ce,_(s.lg("who_can_know")),1)],2),e("span",{class:g(["tab-menu",{"active-tab":i.selectedTab=="SEARCH"}]),onClick:t[1]||(t[1]=w=>a.selectTab("SEARCH"))},[e("span",Le,[r(d)]),e("span",Re,[r(v)]),e("span",Be,_(s.lg("contact_search")),1)],2),e("span",{class:g(["tab-menu",{"active-tab":i.selectedTab=="GET"}]),onClick:t[2]||(t[2]=w=>a.selectTab("GET"))},[e("span",Ne,[r(d)]),e("span",Ue,[r(S)]),e("span",Fe,_(s.lg("friend_requests")),1)],2),e("span",{class:g(["tab-menu",{"active-tab":i.selectedTab=="SEND"}]),onClick:t[3]||(t[3]=w=>a.selectTab("SEND"))},[e("span",Pe,[r(d)]),e("span",De,[r(h)]),e("span",Oe,_(s.lg("send_requests")),1)],2)]),i.selectedTab!="NONE"?(n(),o("div",ze,[i.selectedTab=="SOME"?(n(),o("div",Me,"Ajanlas")):u("",!0),i.selectedTab=="SEARCH"?(n(),o("div",Ae,[r(y)])):u("",!0),i.selectedTab=="GET"?(n(),o("div",He,"Kapottak")):u("",!0),i.selectedTab=="SEND"?(n(),o("div",Ve,"Elkuldtem, de hun a valasz")):u("",!0)])):u("",!0)])}const qe=f($e,[["render",We]]),Ge={};function Ke(s,t,l,p,i,a){return n(),o("div",null," contacts ")}const je=f(Ge,[["render",Ke]]),Je={components:{ContactTabs:qe,Contacts:je}},Qe={class:"mt-2"};function Xe(s,t,l,p,i,a){const d=c("ContactTabs"),m=c("Contacts");return n(),o("div",null,[e("div",null,[r(d)]),e("div",Qe,[r(m)])])}const Ye=f(Je,[["render",Xe]]),Ze={components:{BaseLayout:E,Home:Ye},props:["socket"]};function et(s,t,l,p,i,a){const d=c("Home"),m=c("BaseLayout");return n(),b(m,null,{default:D(()=>[r(d)]),_:1})}const ot=f(Ze,[["render",et]]);export{ot as default};
