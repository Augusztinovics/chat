import{I as X,l as z,p as O,u as j,B as $}from"./BaseLayout-CxRKGZks.js";import{I as H}from"./IconUser-DjuBY7e6.js";import{_ as S,x as r,g as a,h as n,d as K,f as v,e as b,z as T,u as k,i as f,t as d,w,k as p,o as c,l as F,v as P,s as g,m as D,A as ee,F as y,B as C,q as I,n as N,y as se,r as V}from"./index-B4GOImW2.js";import{M as A,I as J,F as Q,S as Y}from"./SuccessToast-KVvvQr1j.js";const te={},ne={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function ie(e,s){return r(),a("svg",ne,s[0]||(s[0]=[n("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},null,-1)]))}const re=S(te,[["render",ie]]),ae={},oe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function de(e,s){return r(),a("svg",oe,s[0]||(s[0]=[n("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},null,-1)]))}const le=S(ae,[["render",de]]),U=K("requestSend",{state:()=>({loaded:!1,requests:[]}),getters:{numSendRequests:e=>e.requests.length??0,isLoaded:e=>e.loaded,sendRequests:e=>e.requests},actions:{loadRequests(){return new Promise((e,s)=>{v.get("/api/resources/sended-friend-requests").then(i=>{var u;this.requests=((u=i.data)==null?void 0:u.sendedRequests)??[],this.loaded=!0,e(!0)}).catch(i=>{i.response.status==401?s(401):s(i)})})},sendRequest(e){return new Promise((s,i)=>{v.post("/api/resources/friend-request-send",e).then(u=>{var o;this.requests=((o=u.data)==null?void 0:o.sendedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})},cancelFrienRequest(e){return new Promise((s,i)=>{v.post("/api/resources/friend-request-delete",e).then(u=>{var o;this.requests=((o=u.data)==null?void 0:o.sendedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})},editFriendRequest(e){return new Promise((s,i)=>{v.post("/api/resources/friend-request-edit",e).then(u=>{var o;this.requests=((o=u.data)==null?void 0:o.sendedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})}}}),x=K("requestGet",{state:()=>({loaded:!1,requests:[]}),getters:{numGetRequests:e=>e.requests.length??0,isLoaded:e=>e.loaded,getRequests:e=>e.requests},actions:{loadRequests(){return new Promise((e,s)=>{v.get("/api/resources/received-friend-requests").then(i=>{var u;this.requests=((u=i.data)==null?void 0:u.receivedRequests)??[],this.loaded=!0,e(!0)}).catch(i=>{i.response.status==401?s(401):s(i)})})},acceptRequest(e){return new Promise((s,i)=>{v.post("/api/resources/friend-request-accept",e).then(u=>{var o;this.requests=((o=u.data)==null?void 0:o.receivedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})},denieRequest(e){return new Promise((s,i)=>{v.post("/api/resources/friend-request-denie",e).then(u=>{var o;this.requests=((o=u.data)==null?void 0:o.receivedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})}}}),L=K("friends",{state:()=>({friends:[],groups:[]}),getters:{numFriends:e=>e.friends.length??0,numGroups:e=>e.groups.length??0,allFriends:e=>e.friends,allGroups:e=>e.groups,getFriendData:e=>s=>e.friends.find(i=>i.friendId==s)},actions:{loadFriends(){return new Promise((e,s)=>{v.get("/api/resources/friends").then(i=>{var u,o;this.friends=((u=i.data)==null?void 0:u.friends)??[],this.groups=((o=i.data)==null?void 0:o.groups)??[],e(!0)}).catch(i=>{console.log(i),i.response.status==401?s(401):s(i)})})},createGroup(e){return new Promise((s,i)=>{v.post("/api/resources/create-group",e).then(()=>{s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})},updateGroup(e){return new Promise((s,i)=>{v.post("/api/resources/update-group",e).then(()=>{s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})}}}),ue={props:{friend:{type:Object,default(e){return{friendId:null,friendName:"",friendDescription:"",friendCountry:"",friendCity:"",friendImg:null,reqId:null,reqAcceptedDate:null,sendId:null,sendAcceptedDate:null,messageToFriend:"",messageFromFriend:""}}}},components:{IconUser:H,Modal:A,IconEdit:J},data(){return{showDetails:!1,sending:!1,showRequestModal:!1,requestText:"",editing:!1}},computed:{...b(k,["lg"]),hasFriend(){return this.friend.friendId!=null},isFriend(){return this.friend.reqId&&this.friend.reqAcceptedDate||this.friend.sendId&&this.friend.sendAcceptedDate},isReqGet(){return this.friend.reqId&&!this.friend.reqAcceptedDate},isReqSend(){return this.friend.sendId&&!this.friend.sendAcceptedDate}},methods:{...T(U,["sendRequest","cancelFrienRequest","editFriendRequest"]),...T(x,["acceptRequest","denieRequest"]),modalClose(){this.showDetails=!1},openModal(){this.showDetails=!0},openRequestModal(){this.requestText="",this.showRequestModal=!0,setTimeout(()=>{document.getElementById("request_text_input_field").focus()},300)},sendFriendRequest(){this.editing?(this.showRequestModal=!1,this.sending=!0,this.editFriendRequest({requestId:this.friend.sendId,text:this.requestText.trim()}).then(()=>{this.sending=!1,this.friend.messageToFriend=this.requestText,this.editing=!1,this.showDetails=!0}).catch(e=>{this.sending=!1,this.editing=!1,e==401&&this.$router.push("/login")})):(this.showRequestModal=!1,this.sending=!0,this.sendRequest({friendId:this.friend.friendId,text:this.requestText.trim()}).then(()=>{this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("frind_request_send"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("frind_request_send_fail"))}))},acceptFriendRequest(){this.sending=!0,this.acceptRequest({requestId:this.friend.reqId}).then(()=>{this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("frien_request_accepted"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("general_error"))})},denieFriendRequest(){this.sending=!0,this.denieRequest({requestId:this.friend.reqId}).then(()=>{this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("request_denited"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("general_error"))})},cancelRequest(){this.sending=!0,this.cancelFrienRequest({requestId:this.friend.sendId}).then(()=>{this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("request_canceled"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("general_error"))})},editRequestMessage(){this.showDetails=!1,this.editing=!0,this.requestText=this.friend.messageToFriend??"",this.showRequestModal=!0,setTimeout(()=>{document.getElementById("request_text_input_field").focus().select()},300)},sendMessage(){}}},ce={key:0,class:"friend-card"},he={class:"friend-card-img"},ge=["src"],fe={key:1,class:"icon-lg"},me={class:"friend-card-action"},_e=["disabled"],pe={key:1},be=["disabled"],Se=["disabled"],qe={key:2},ve=["disabled"],Re=["disabled"],Ie={class:"text-left"},ye={class:"text-center mt-1 mb-2"},Ce=["src"],ke={key:1,class:"icon-lg"},Ge={class:"friend-modal-des"},Te={class:"text-bold"},Fe={class:"text-bold"},we={class:"text-bold"},De={class:"mb-2"},Ne={key:0},Ee={key:0},Me={key:1},Ue={class:"mt-2 friend-card-btns"},xe=["disabled"],Le=["disabled"],ze={key:1},Pe={key:0},Ae={key:1},Be={class:"request-modal-body"},Ve={for:"request_text_input_field"};function Oe(e,s,i,u,o,t){const _=g("IconUser"),h=g("IconEdit"),q=g("Modal");return t.hasFriend?(r(),a("div",ce,[n("div",he,[i.friend.friendImg?(r(),a("img",{key:0,src:i.friend.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,ge)):(r(),a("span",fe,[f(_)]))]),n("div",{class:"friend-card-name",onClick:s[0]||(s[0]=(...l)=>t.openModal&&t.openModal(...l))},[n("h5",null,d(i.friend.friendName),1)]),n("div",me,[t.isFriend?(r(),a("button",{key:0,class:"btn-sm btn-primary btn-block",onClick:s[1]||(s[1]=(...l)=>t.sendMessage&&t.sendMessage(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("send_message")),9,_e)):t.isReqGet?(r(),a("div",pe,[n("button",{class:"btn-sm btn-primary btn-block",onClick:s[2]||(s[2]=(...l)=>t.acceptFriendRequest&&t.acceptFriendRequest(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("accept_request")),9,be),n("button",{class:"btn-sm btn-danger btn-block",onClick:s[3]||(s[3]=(...l)=>t.denieFriendRequest&&t.denieFriendRequest(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("denie_request")),9,Se)])):t.isReqSend?(r(),a("div",qe,[n("p",null,d(e.lg("already_send")),1),n("button",{class:"btn-sm btn-danger btn-block",onClick:s[4]||(s[4]=(...l)=>t.cancelRequest&&t.cancelRequest(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("cancel_request")),9,ve)])):(r(),a("button",{key:3,class:"btn-sm btn-primary btn-block",onClick:s[5]||(s[5]=(...l)=>t.openRequestModal&&t.openRequestModal(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("send_request")),9,Re))]),f(q,{show:o.showDetails,size:"md",title:i.friend.friendName,headerClass:"text-left",showFooter:!1,onClose:t.modalClose},{default:w(()=>[n("div",Ie,[n("div",ye,[i.friend.friendImg?(r(),a("img",{key:0,src:i.friend.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,Ce)):(r(),a("span",ke,[f(_)]))]),n("div",Ge,[n("p",null,[n("span",Te,d(e.lg("city"))+" :",1),p(d(i.friend.friendCity??"????"),1)]),n("p",null,[n("span",Fe,d(e.lg("friend_country"))+" :",1),p(d(i.friend.friendCountry??"????"),1)]),n("p",null,[n("span",we,d(e.lg("friend_des"))+" :",1)]),n("p",De,d(i.friend.friendDescription??"??????"),1),t.isReqGet?(r(),a("div",Ne,[n("p",null,d(e.lg("message")),1),i.friend.messageFromFriend?(r(),a("p",Ee,d(i.friend.messageFromFriend),1)):(r(),a("p",Me,d(e.lg("no_message")),1)),n("div",Ue,[n("button",{class:"btn btn-primary",onClick:s[6]||(s[6]=(...l)=>t.acceptFriendRequest&&t.acceptFriendRequest(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("accept_request")),9,xe),n("button",{class:"btn btn-danger",onClick:s[7]||(s[7]=(...l)=>t.denieFriendRequest&&t.denieFriendRequest(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("denie_request")),9,Le)])])):c("",!0),t.isReqSend?(r(),a("div",ze,[n("p",null,d(e.lg("you_request_text")),1),i.friend.messageToFriend?(r(),a("p",Pe,[p(d(i.friend.messageToFriend)+" ",1),n("span",{class:"icon-edit-btn ml-1",onClick:s[8]||(s[8]=(...l)=>t.editRequestMessage&&t.editRequestMessage(...l))},[f(h)])])):(r(),a("p",Ae,[p(d(e.lg("no_request_send_text"))+" ",1),n("span",{class:"icon-edit-btn ml-1",onClick:s[9]||(s[9]=(...l)=>t.editRequestMessage&&t.editRequestMessage(...l))},[f(h)])]))])):c("",!0)])])]),_:1},8,["show","title","onClose"]),f(q,{show:o.showRequestModal,size:"sm",title:e.lg("send_request"),headerClass:"text-left",showCancel:!0,cancelBtnText:e.lg("cancel"),okBtnText:e.lg("send"),onClose:s[11]||(s[11]=l=>o.showRequestModal=!1),onCancel:s[12]||(s[12]=l=>o.showRequestModal=!1),onOk:t.sendFriendRequest},{default:w(()=>[n("div",Be,[n("p",null,[p(d(e.lg("addresse"))+" ",1),n("span",null,d(i.friend.friendName),1)]),n("label",Ve,d(e.lg("few_words")),1),F(n("textarea",{name:"requestText",id:"request_text_input_field","onUpdate:modelValue":s[10]||(s[10]=l=>o.requestText=l)},null,512),[[P,o.requestText]])])]),_:1},8,["show","title","cancelBtnText","okBtnText","onOk"])])):c("",!0)}const W=S(ue,[["render",Oe]]),He={components:{IconSearch:X,FailToast:Q,FriendCard:W},data(){return{submitting:!1,searchText:"",firstSearch:!0,searchResult:[],searchError:!1,paginationIndex:0}},computed:{...b(k,["lg"]),...D(O,z),hasSearchResult(){return this.searchResult.length>0},hasPagination(){return this.searchResult.length>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.searchResult.length},cardsToShow(){let e=[];if(!this.hasSearchResult)return e;let s=this.paginationIndex*this.paginationSizesStore.topSize;s>this.searchResult.length-1&&(s=this.searchResult.length-1),this.paginationSizesStore.topSize>=this.searchResult.length&&(s=0);let i=s+this.paginationSizesStore.topSize;i>this.searchResult.length&&(i=this.searchResult.length);for(let u=s;u<i;u++)e.push(this.searchResult[u]);return e}},methods:{searchUsers(){this.searchText.trim()!=""&&(this.firstSearch=!1,this.submitting=!0,this.loadingStore.startLoading(),this.searchError=!1,v.get("/api/resources/search-user?un="+this.searchText.trim()).then(e=>{this.submitting=!1,this.loadingStore.finishLoading(),this.searchResult=e.data.users}).catch(e=>{this.submitting=!1,this.loadingStore.finishLoading(),this.searchError=!0,setTimeout(()=>{this.searchError=!1},3e3),console.log(e)}))},paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++},reloadData(e,s){this.$emit("reloadData",e,s)}},mounted(){this.submitting=!1,this.searchText="",this.firstSearch=!0,document.getElementById("search_input").focus()}},Ke={class:"search-menu"},Je={class:"user-search-input"},Qe={for:"search_input"},We={class:"password-container"},Xe=["disabled"],Ye=["disabled"],Ze={class:"icon"},je={key:0,class:"search-result-holder"},$e={class:"results"},es={key:0},ss=["disabled"],ts={class:"result-cards"},ns={key:1},is=["disabled"],rs={key:1,class:"search-result-no-result-holder"},as={key:0},os={key:1};function ds(e,s,i,u,o,t){const _=g("IconSearch"),h=g("FriendCard"),q=g("FailToast");return r(),a("div",null,[n("div",Ke,[n("div",Je,[n("label",Qe,d(e.lg("user_search")),1),n("div",We,[F(n("input",{id:"search_input",type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>o.searchText=l),disabled:o.submitting,onKeypress:s[1]||(s[1]=ee((...l)=>t.searchUsers&&t.searchUsers(...l),["enter"]))},null,40,Xe),[[P,o.searchText]]),n("button",{type:"button",onClick:s[2]||(s[2]=(...l)=>t.searchUsers&&t.searchUsers(...l)),disabled:o.submitting},[n("span",Ze,[f(_)])],8,Ye)])])]),n("div",null,[t.hasSearchResult?(r(),a("div",je,[n("p",null,[n("span",null,d(o.searchResult.length),1),s[5]||(s[5]=p()),n("span",null,d(e.lg("results")),1)]),n("div",$e,[t.hasPagination?(r(),a("div",es,[n("button",{type:"button",disabled:o.paginationIndex==0,class:"pag-btn",onClick:s[3]||(s[3]=(...l)=>t.paginateLeft&&t.paginateLeft(...l))},"<",8,ss)])):c("",!0),n("div",ts,[(r(!0),a(y,null,C(t.cardsToShow,l=>(r(),I(h,{key:"friend_"+l.friendId,friend:l,onReloadData:t.reloadData},null,8,["friend","onReloadData"]))),128))]),t.hasPagination?(r(),a("div",ns,[n("button",{type:"button",disabled:t.rightPaginationDisabled,class:"pag-btn",onClick:s[4]||(s[4]=(...l)=>t.paginateRight&&t.paginateRight(...l))},">",8,is)])):c("",!0)])])):(r(),a("div",rs,[o.firstSearch?(r(),a("p",as,d(e.lg("user_search_before")),1)):(r(),a("p",os,d(e.lg("user_search_not_find")),1))]))]),o.searchError?(r(),I(q,{key:0})):c("",!0)])}const ls=S(He,[["render",ds]]),us={components:{FriendCard:W},data(){return{paginationIndex:0}},computed:{...b(k,["lg"]),...b(U,["numSendRequests","sendRequests"]),...D(O),hasPagination(){return this.numSendRequests>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.numSendRequests},cardsToShow(){let e=[];if(this.numSendRequests<1)return e;let s=this.paginationIndex*this.paginationSizesStore.topSize;s>this.sendRequests.length-1&&(s=this.sendRequests.length-1),this.paginationSizesStore.topSize>=this.sendRequests.length&&(s=0);let i=s+this.paginationSizesStore.topSize;i>this.sendRequests.length&&(i=this.sendRequests.length);for(let u=s;u<i;u++)e.push(this.sendRequests[u]);return e}},methods:{paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++},changeTabToSearch(){this.$emit("changeTab")},reloadData(e,s){this.$emit("reloadData",e,s)}}},cs={key:0,class:"search-result-holder"},hs={class:"results"},gs={key:0},fs=["disabled"],ms={class:"result-cards"},_s={key:1},ps=["disabled"],bs={key:1,class:"text-center m-2"};function Ss(e,s,i,u,o,t){const _=g("FriendCard");return r(),a("div",null,[e.numSendRequests?(r(),a("div",cs,[n("div",hs,[t.hasPagination?(r(),a("div",gs,[n("button",{type:"button",disabled:o.paginationIndex==0,class:"pag-btn",onClick:s[0]||(s[0]=(...h)=>t.paginateLeft&&t.paginateLeft(...h))},"<",8,fs)])):c("",!0),n("div",ms,[(r(!0),a(y,null,C(t.cardsToShow,h=>(r(),I(_,{key:"send__request_"+h.friendId,friend:h,onReloadData:t.reloadData},null,8,["friend","onReloadData"]))),128))]),t.hasPagination?(r(),a("div",_s,[n("button",{type:"button",disabled:t.rightPaginationDisabled,class:"pag-btn",onClick:s[1]||(s[1]=(...h)=>t.paginateRight&&t.paginateRight(...h))},">",8,ps)])):c("",!0)])])):(r(),a("div",bs,[n("p",null,[p(d(e.lg("not_send_any_request_yet"))+" ",1),n("span",{class:"btn-link",onClick:s[2]||(s[2]=(...h)=>t.changeTabToSearch&&t.changeTabToSearch(...h))},d(e.lg("contact_search")),1)])]))])}const qs=S(us,[["render",Ss]]),vs={components:{FriendCard:W},data(){return{paginationIndex:0}},computed:{...b(k,["lg"]),...b(x,["numGetRequests","getRequests"]),...D(O),hasPagination(){return this.numGetRequests>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.numGetRequests},cardsToShow(){let e=[];if(this.numGetRequests<1)return e;let s=this.paginationIndex*this.paginationSizesStore.topSize;s>this.getRequests.length-1&&(s=this.getRequests.length-1),this.paginationSizesStore.topSize>=this.getRequests.length&&(s=0);let i=s+this.paginationSizesStore.topSize;i>this.getRequests.length&&(i=this.getRequests.length);for(let u=s;u<i;u++)e.push(this.getRequests[u]);return e}},methods:{paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++},changeTabToSearch(){this.$emit("changeTab")},reloadData(e,s){this.$emit("reloadData",e,s)}}},Rs={key:0,class:"search-result-holder"},Is={class:"results"},ys={key:0},Cs=["disabled"],ks={class:"result-cards"},Gs={key:1},Ts=["disabled"],Fs={key:1,class:"text-center m-2"};function ws(e,s,i,u,o,t){const _=g("FriendCard");return r(),a("div",null,[e.numGetRequests?(r(),a("div",Rs,[n("div",Is,[t.hasPagination?(r(),a("div",ys,[n("button",{type:"button",disabled:o.paginationIndex==0,class:"pag-btn",onClick:s[0]||(s[0]=(...h)=>t.paginateLeft&&t.paginateLeft(...h))},"<",8,Cs)])):c("",!0),n("div",ks,[(r(!0),a(y,null,C(t.cardsToShow,h=>(r(),I(_,{key:"send__request_"+h.friendId,friend:h,onReloadData:t.reloadData},null,8,["friend","onReloadData"]))),128))]),t.hasPagination?(r(),a("div",Gs,[n("button",{type:"button",disabled:t.rightPaginationDisabled,class:"pag-btn",onClick:s[1]||(s[1]=(...h)=>t.paginateRight&&t.paginateRight(...h))},">",8,Ts)])):c("",!0)])])):(r(),a("div",Fs,[n("p",null,[p(d(e.lg("not_send_any_request_yet"))+" ",1),n("span",{class:"btn-link",onClick:s[2]||(s[2]=(...h)=>t.changeTabToSearch&&t.changeTabToSearch(...h))},d(e.lg("contact_search")),1)])]))])}const Ds=S(vs,[["render",ws]]),Ns={components:{IconUser:H,IconSearch:X,IconLeft:re,IconRight:le,SearchContactTab:ls,SendRequestsTab:qs,GetRequestsTab:Ds,SuccessToast:Y,FailToast:Q},data(){return{selectedTab:"GET",saveSuccess:!1,saveError:!1,toastMessage:""}},computed:{...D(z),...b(k,["lg"]),...b(U,{numSendRequests:"numSendRequests",isSendStoreLoaded:"isLoaded"}),...b(x,{numGetRequests:"numGetRequests",isGetStoreLoaded:"isLoaded"})},methods:{...T(U,{loadSendRequests:"loadRequests"}),...T(x,{loadGetRequests:"loadRequests"}),...T(L,{loadFriends:"loadFriends"}),selectTab(e){e==this.selectedTab?this.selectedTab="NONE":this.selectedTab=e},loadStores(e="NONE",s=""){let i=[];this.isSendStoreLoaded||i.push(this.loadSendRequests()),this.isGetStoreLoaded||i.push(this.loadGetRequests()),i.push(this.loadFriends()),this.loadingStore.startLoading(),Promise.all(i).then(()=>{this.loadingStore.finishLoading(),this.numGetRequests>0?this.selectedTab="GET":this.selectedTab="NONE",e!=="NONE"&&(e==="SUCCESS"&&(this.toastMessage=s,this.saveSuccess=!0,setTimeout(()=>{this.saveSuccess=!1,this.toastMessage=""},3e3)),e==="ERROR"&&(this.toastMessage=s,this.saveError=!0,setTimeout(()=>{this.saveError=!1,this.toastMessage=""},3e3)))}).catch(u=>{this.loadingStore.finishLoading(),u==401?this.$router.push("/login"):(this.toastMessage=this.lg("general_error"),this.saveError=!0,setTimeout(()=>{this.saveError=!1,this.toastMessage=""},3e3))})}},mounted(){this.loadStores()}},Es={class:"contact-tabs"},Ms={class:"tab"},Us={class:"icon"},xs={class:"icon"},Ls={class:"tab-text"},zs={class:"icon"},Ps={class:"icon"},As={class:"tab-text"},Bs={key:0,class:"tab-num"},Vs={class:"icon"},Os={class:"icon"},Hs={class:"tab-text"},Ks={key:0,class:"tab-num"},Js={key:0,class:"tab-content"},Qs={key:0},Ws={key:1},Xs={key:2};function Ys(e,s,i,u,o,t){const _=g("IconUser"),h=g("IconSearch"),q=g("IconLeft"),l=g("IconRight"),R=g("SearchContactTab"),E=g("GetRequestsTab"),B=g("SendRequestsTab"),m=g("SuccessToast"),G=g("FailToast");return r(),a("div",Es,[n("div",Ms,[n("span",{class:N(["tab-menu",{"active-tab":o.selectedTab=="SEARCH"}]),onClick:s[0]||(s[0]=M=>t.selectTab("SEARCH"))},[n("span",Us,[f(_)]),n("span",xs,[f(h)]),n("span",Ls,d(e.lg("contact_search")),1)],2),n("span",{class:N(["tab-menu",{"active-tab":o.selectedTab=="GET"}]),onClick:s[1]||(s[1]=M=>t.selectTab("GET"))},[n("span",zs,[f(_)]),n("span",Ps,[f(q)]),n("span",As,d(e.lg("friend_requests")),1),e.numGetRequests?(r(),a("sup",Bs,d(e.numGetRequests),1)):c("",!0)],2),n("span",{class:N(["tab-menu",{"active-tab":o.selectedTab=="SEND"}]),onClick:s[2]||(s[2]=M=>t.selectTab("SEND"))},[n("span",Vs,[f(_)]),n("span",Os,[f(l)]),n("span",Hs,d(e.lg("send_requests")),1),e.numSendRequests?(r(),a("sup",Ks,d(e.numSendRequests),1)):c("",!0)],2)]),o.selectedTab!="NONE"?(r(),a("div",Js,[o.selectedTab=="SEARCH"?(r(),a("div",Qs,[f(R,{onReloadData:t.loadStores},null,8,["onReloadData"])])):c("",!0),o.selectedTab=="GET"?(r(),a("div",Ws,[f(E,{onChangeTab:s[3]||(s[3]=M=>t.selectTab("SEARCH")),onReloadData:t.loadStores},null,8,["onReloadData"])])):c("",!0),o.selectedTab=="SEND"?(r(),a("div",Xs,[f(B,{onChangeTab:s[4]||(s[4]=M=>t.selectTab("SEARCH")),onReloadData:t.loadStores},null,8,["onReloadData"])])):c("",!0)])):c("",!0),o.saveSuccess?(r(),I(m,{key:1,msg:o.toastMessage},null,8,["msg"])):c("",!0),o.saveError?(r(),I(G,{key:2,msg:o.toastMessage},null,8,["msg"])):c("",!0)])}const Zs=S(Ns,[["render",Ys]]),js={props:{friends:Array},computed:{friendInitiative(){return e=>{let s=e.split(" "),i="";return s.forEach(u=>{u&&(i+=u.charAt(0))}),i?i.toUpperCase():"F"}}}},$s={class:"friend-img"},et={key:0},st={key:1},tt=["src"],nt={key:1,class:"profile-init"},it={key:2},rt=["src"],at={key:1,class:"profile-init"},ot=["src"],dt={key:3,class:"profile-init"},lt={key:3},ut=["src"],ct={key:1,class:"profile-init"},ht=["src"],gt={key:3,class:"profile-init"},ft=["src"],mt={key:5,class:"profile-init"},_t={key:6};function pt(e,s,i,u,o,t){return r(),a("div",$s,[i.friends.length<1?(r(),a("span",et,s[0]||(s[0]=[n("span",null,"?",-1)]))):i.friends.length==1?(r(),a("span",st,[i.friends[0].friendImg?(r(),a("img",{key:0,src:i.friends[0].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,tt)):(r(),a("span",nt,d(t.friendInitiative(i.friends[0].friendName)),1))])):i.friends.length==2?(r(),a("span",it,[i.friends[0].friendImg?(r(),a("img",{key:0,src:i.friends[0].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,rt)):(r(),a("span",at,d(t.friendInitiative(i.friends[0].friendName)),1)),i.friends[1].friendImg?(r(),a("img",{key:2,src:i.friends[1].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,ot)):(r(),a("span",dt,d(t.friendInitiative(i.friends[1].friendName)),1))])):(r(),a("span",lt,[i.friends[0].friendImg?(r(),a("img",{key:0,src:i.friends[0].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,ut)):(r(),a("span",ct,d(t.friendInitiative(i.friends[0].friendName)),1)),i.friends[1].friendImg?(r(),a("img",{key:2,src:i.friends[1].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,ht)):(r(),a("span",gt,d(t.friendInitiative(i.friends[1].friendName)),1)),i.friends[2].friendImg?(r(),a("img",{key:4,src:i.friends[2].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,ft)):(r(),a("span",mt,d(t.friendInitiative(i.friends[2].friendName)),1)),i.friends.length>3?(r(),a("b",_t," + "+d(i.friends.length-3),1)):c("",!0)]))])}const Z=S(js,[["render",pt]]),bt={components:{Modal:A,IconUser:H,IconIdCard:se},props:["friendGroup"],data(){return{paginationIndex:0,isListView:!0}},computed:{...b(k,["lg"]),showModal(){return!!this.friendGroup},modalTitle(){var e;return((e=this.friendGroup)==null?void 0:e.groupName)??""},groupCreatedDate(){var e;return((e=this.friendGroup)==null?void 0:e.groupCreated)??""},hasUsers(){var e,s;return((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)>0},onlyOneUser(){var e,s;return((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)==1},getUserData(){var e,s;return this.hasUsers&&this.paginationIndex<((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)?this.friendGroup.groupUsers[this.paginationIndex]:{friendCity:null,friendCountry:null,friendDescription:null,friendImg:null,friendName:null}},friendInitiative(){return e=>{let s=e.split(" "),i="";return s.forEach(u=>{u&&(i+=u.charAt(0))}),i?i.toUpperCase():"F"}},paginationLength(){var e,s;return(s=(e=this.friendGroup)==null?void 0:e.groupUsers)!=null&&s.length?this.friendGroup.groupUsers.length-1:0}},methods:{modalClose(){this.paginationIndex=0,this.isListView=!0,this.$emit("closeDetails")},toogleTabView(){this.paginationIndex=0,this.isListView=!this.isListView},paginateLeft(){this.paginationIndex<1||this.paginationIndex--},paginatRight(){this.paginationIndex>=this.paginationLength||this.paginationIndex++},viewDetails(e){this.paginationIndex=e,this.isListView=!1}}},St={class:"text-left"},qt={key:0},vt={key:0},Rt={class:"mt-1 mb-2"},It=["src"],yt={key:1,class:"profile-init-lg"},Ct={class:"friend-modal-des"},kt={class:"text-bold"},Gt={class:"text-bold"},Tt={class:"text-bold"},Ft={class:"text-bold"},wt={class:"mb-2"},Dt={key:1,class:"contact-tabs left-tabs mt-1"},Nt={class:"tab"},Et={class:"icon"},Mt={class:"icon"},Ut={class:"tab-content"},xt={key:0},Lt={class:"friend-img"},zt=["src"],Pt={key:1,class:"profile-init"},At=["onClick"],Bt={key:1},Vt={class:"mt-1 mb-2"},Ot=["src"],Ht={key:1,class:"profile-init-lg"},Kt={class:"friend-modal-des"},Jt={class:"text-bold"},Qt={class:"text-bold"},Wt={class:"text-bold"},Xt={class:"text-bold"},Yt={class:"mb-2"},Zt={class:"text-center"};function jt(e,s,i,u,o,t){const _=g("IconIdCard"),h=g("IconUser"),q=g("Modal");return r(),a("div",null,[f(q,{show:t.showModal,size:"md",title:t.modalTitle,headerClass:"text-left",showFooter:!1,onClose:t.modalClose},{default:w(()=>[n("div",St,[n("p",null,[n("small",null,[n("b",null,d(e.lg("group_created_date"))+":",1),p(" "+d(t.groupCreatedDate),1)])]),t.hasUsers?(r(),a("div",qt,[t.onlyOneUser?(r(),a("div",vt,[n("div",Rt,[t.getUserData.friendImg?(r(),a("img",{key:0,src:t.getUserData.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,It)):(r(),a("span",yt,d(t.friendInitiative(t.getUserData.friendName)),1))]),n("div",Ct,[n("p",null,[n("span",kt,d(e.lg("friend_name"))+" :",1),p(d(t.getUserData.friendName??"????"),1)]),n("p",null,[n("span",Gt,d(e.lg("city"))+" :",1),p(d(t.getUserData.friendCity??"????"),1)]),n("p",null,[n("span",Tt,d(e.lg("friend_country"))+" :",1),p(d(t.getUserData.friendCountry??"????"),1)]),n("p",null,[n("span",Ft,d(e.lg("friend_des"))+" :",1)]),n("p",wt,d(t.getUserData.friendDescription??"??????"),1)])])):(r(),a("div",Dt,[n("div",Nt,[n("span",{class:N(["tab-menu",{"active-tab":o.isListView}]),onClick:s[0]||(s[0]=l=>t.toogleTabView())},[n("span",Et,[f(_)])],2),n("span",{class:N(["tab-menu",{"active-tab":!o.isListView}]),onClick:s[1]||(s[1]=l=>t.toogleTabView())},[n("span",Mt,[f(h)])],2)]),n("div",Ut,[o.isListView?(r(),a("div",xt,[n("ul",null,[(r(!0),a(y,null,C(i.friendGroup.groupUsers,(l,R)=>(r(),a("li",{key:"friend_list_"+R,class:"mb-1"},[n("p",null,[n("span",Lt,[l.friendImg?(r(),a("img",{key:0,src:l.friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,zt)):(r(),a("span",Pt,d(t.friendInitiative(l.friendName)),1))]),s[4]||(s[4]=p()),n("span",{onClick:E=>t.viewDetails(R),class:"btn-link-no-underline text-bold font-lg"},d(l.friendName),9,At)])]))),128))])])):(r(),a("div",Bt,[n("div",Vt,[t.getUserData.friendImg?(r(),a("img",{key:0,src:t.getUserData.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,Ot)):(r(),a("span",Ht,d(t.friendInitiative(t.getUserData.friendName)),1))]),n("div",Kt,[n("p",null,[n("span",Jt,d(e.lg("friend_name"))+" :",1),p(d(t.getUserData.friendName??"????"),1)]),n("p",null,[n("span",Qt,d(e.lg("city"))+" :",1),p(d(t.getUserData.friendCity??"????"),1)]),n("p",null,[n("span",Wt,d(e.lg("friend_country"))+" :",1),p(d(t.getUserData.friendCountry??"????"),1)]),n("p",null,[n("span",Xt,d(e.lg("friend_des"))+" :",1)]),n("p",Yt,d(t.getUserData.friendDescription??"??????"),1)]),n("div",Zt,[o.paginationIndex>0?(r(),a("button",{key:0,type:"button",class:"btn pag-btn",onClick:s[2]||(s[2]=(...l)=>t.paginateLeft&&t.paginateLeft(...l))},"<")):c("",!0),o.paginationIndex<t.paginationLength?(r(),a("button",{key:1,type:"button",class:"btn pag-btn",onClick:s[3]||(s[3]=(...l)=>t.paginatRight&&t.paginatRight(...l))},">")):c("",!0)])]))])]))])):c("",!0)])]),_:1},8,["show","title","onClose"])])}const $t=S(bt,[["render",jt]]),en={components:{Modal:A,IconEdit:J,ContactImage:Z},props:["friendGroup","allFriends"],data(){return{editGroupName:"",editName:!1,missingGroupName:!1,selectedFriendsForDeleteFromGroup:[],selectedFriendsToAddGroup:[]}},computed:{...D(z),...b(k,["lg"]),showModal(){return!!this.friendGroup},modalTitle(){var e;return((e=this.friendGroup)==null?void 0:e.groupName)??""},hasUsers(){var e,s;return((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)>0},removeGroup(){var e,s;return this.selectedFriendsForDeleteFromGroup.length==((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)&&this.selectedFriendsToAddGroup.length==0},showSaveBtn(){return this.selectedFriendsForDeleteFromGroup.length>0||this.selectedFriendsToAddGroup.length>0||this.editName&&this.editGroupName!=this.modalTitle}},methods:{...T(L,["updateGroup","loadFriends"]),modalClose(e=!1){this.editGroupName="",this.editName=!1,this.selectedFriendsForDeleteFromGroup=[],this.selectedFriendsToAddGroup=[],this.$emit("closeEditDetails",e)},startNameEdit(){this.editGroupName=this.modalTitle,this.missingGroupName=!1,this.editName=!0,setTimeout(()=>{document.getElementById("edit_group_name").focus()},300)},cancelNameEdit(){this.editGroupName="",this.editName=!1,this.missingGroupName=!1},clearNameError(){this.missingGroupName=!1},canAddToGroup(e){var s;return(s=this.friendGroup)!=null&&s.groupUsers?!this.friendGroup.groupUsers.find(u=>u.friendId==e):!0},saveChanges(e,s=!1){if(!this.showSaveBtn)return;if(this.editName&&this.editGroupName.trim()==""&&!s){this.missingGroupName=!0,document.getElementById("edit_group_name").focus();return}this.loadingStore.startLoading();let i={groupId:this.friendGroup.groupId,del:s};s||(this.editName&&(i.groupName=this.editGroupName.trim()),this.selectedFriendsForDeleteFromGroup.length>0&&(i.removeIds=this.selectedFriendsForDeleteFromGroup),this.selectedFriendsToAddGroup.length>0&&(i.addIds=this.selectedFriendsToAddGroup)),this.updateGroup(i).then(()=>{this.loadFriends(),this.loadingStore.finishLoading(),this.modalClose("SUC")}).catch(u=>{this.loadingStore.finishLoading(),u==401?this.$router.push("/login"):this.modalClose("ER")})}}},sn={class:"text-left"},tn={key:0},nn={key:0},rn={for:"edit_group_name"},an={key:0,class:"text-danger"},on={class:"text-right mt-1"},dn={key:1},ln={class:"text-bold"},un=["id","value"],cn=["for"],hn={key:0},gn={key:2},fn={class:"text-bold"},mn={key:0,class:"friend-checkbox green-check"},_n=["id","value"],pn=["for"],bn={key:0},Sn={class:"text-center mt-2"};function qn(e,s,i,u,o,t){const _=g("IconEdit"),h=g("ContactImage"),q=g("Modal");return r(),a("div",null,[f(q,{show:t.showModal,size:"md",title:t.modalTitle,headerClass:"text-left",showFooter:!1,onClose:t.modalClose},{default:w(()=>[n("div",sn,[t.hasUsers?(r(),a("div",tn,[o.editName?(r(),a("div",nn,[n("label",rn,d(e.lg("group_new_name_lbl")),1),F(n("input",{type:"text",id:"edit_group_name",onInput:s[0]||(s[0]=(...l)=>t.clearNameError&&t.clearNameError(...l)),"onUpdate:modelValue":s[1]||(s[1]=l=>o.editGroupName=l)},null,544),[[P,o.editGroupName]]),o.missingGroupName?(r(),a("p",an,d(e.lg("group_new_name_missing")),1)):c("",!0),n("div",on,[n("button",{type:"button",class:"btn-sm btn-secondary ml-1",onClick:s[2]||(s[2]=(...l)=>t.cancelNameEdit&&t.cancelNameEdit(...l))},d(e.lg("cancel")),1)])])):(r(),a("div",dn,[n("h4",null,[p(d(t.modalTitle)+" ",1),n("span",{class:"icon-edit-btn mr-1",onClick:s[3]||(s[3]=(...l)=>t.startNameEdit&&t.startNameEdit(...l))},[f(_)])])])),s[9]||(s[9]=n("hr",{class:"mt-2 mb-2"},null,-1)),n("div",null,[n("p",ln,d(e.lg("friends_in_group")),1),(r(!0),a(y,null,C(i.friendGroup.groupUsers,l=>(r(),a("div",{key:"existing_friends_"+l.friendId,class:"friend-checkbox danger-check"},[F(n("input",{type:"checkbox",id:"existing_friends_"+l.friendId,value:l.friendId,"onUpdate:modelValue":s[4]||(s[4]=R=>o.selectedFriendsForDeleteFromGroup=R)},null,8,un),[[V,o.selectedFriendsForDeleteFromGroup]]),n("label",{for:"existing_friends_"+l.friendId},[f(h,{friends:[l]},null,8,["friends"]),p(" "+d(l.friendName)+" ",1),l.friendCity?(r(),a("span",hn,"( "+d(l.friendCity)+" )",1)):c("",!0)],8,cn)]))),128))]),s[10]||(s[10]=n("hr",{class:"mt-2 mb-2"},null,-1)),i.allFriends?(r(),a("div",gn,[n("p",fn,d(e.lg("friends_outside_group")),1),(r(!0),a(y,null,C(i.allFriends,l=>(r(),a("div",{key:"all_friends_"+l.friendId},[t.canAddToGroup(l.friendId)?(r(),a("div",mn,[F(n("input",{type:"checkbox",id:"all_friends_"+l.friendId,value:l.friendId,"onUpdate:modelValue":s[5]||(s[5]=R=>o.selectedFriendsToAddGroup=R)},null,8,_n),[[V,o.selectedFriendsToAddGroup]]),n("label",{for:"all_friends_"+l.friendId},[f(h,{friends:[l]},null,8,["friends"]),p(" "+d(l.friendName)+" ",1),l.friendCity?(r(),a("span",bn,"( "+d(l.friendCity)+" )",1)):c("",!0)],8,pn)])):c("",!0)]))),128))])):c("",!0),n("div",Sn,[n("button",{type:"button",class:"btn btn-secondary",onClick:s[6]||(s[6]=(...l)=>t.modalClose&&t.modalClose(...l))},d(e.lg("cancel")),1),t.showSaveBtn&&!t.removeGroup?(r(),a("button",{key:0,type:"button",class:"btn btn-primary ml-1",onClick:s[7]||(s[7]=(...l)=>t.saveChanges&&t.saveChanges(...l))},d(e.lg("save")),1)):c("",!0),t.showSaveBtn&&t.removeGroup?(r(),a("button",{key:1,type:"button",class:"btn btn-danger ml-1",onClick:s[8]||(s[8]=l=>t.saveChanges(e.e,!0))},d(e.lg("delete_group")),1)):c("",!0)])])):c("",!0)])]),_:1},8,["show","title","onClose"])])}const vn=S(en,[["render",qn]]),Rn={components:{Modal:A,ContactImage:Z,SuccessToast:Y,FailToast:Q,IconEdit:J,ContactGroupDetailModal:$t,EditContactModal:vn},data(){return{showCreateGroupModal:!1,saveError:!1,saveSuccess:!1,newGroupName:"",missingGroupName:!1,selectedFriendsForNewGroup:[],noFriendSelected:!1,groupDetail:null,groupEdit:null}},computed:{...D(j,z),...b(L,{numFriends:"numFriends",friends:"allFriends",groups:"allGroups",numGroups:"numGroups",friendData:"getFriendData"}),...b(k,["lg"]),groupCards(){let e=[];return this.groups.forEach(s=>{let i={groupId:s.id,groupName:s.group_name,groupCreated:s.created_at,owner:s.main_user==this.userStore.id,groupUsers:[]};s.users.forEach(u=>{if(u!==this.userStore.id){let o=this.friendData(u);o&&i.groupUsers.push(o)}}),e.push(i)}),e}},methods:{...T(L,["createGroup","loadFriends"]),createGroupModalOpen(){this.newGroupName="",this.missingGroupName=!1,this.selectedFriendsForNewGroup=[],this.noFriendSelected=!1,this.showCreateGroupModal=!0,setTimeout(()=>{document.getElementById("new_group_name").focus()},500)},createGroupModalClose(){this.showCreateGroupModal=!1},clearNameError(){this.missingGroupName=!1},checkBoxChange(){this.noFriendSelected=!1},validateAndCreateGroup(){this.newGroupName.trim()==""&&(this.missingGroupName=!0,document.getElementById("new_group_name").focus()),this.selectedFriendsForNewGroup.length<1&&(this.noFriendSelected=!0),!(this.missingGroupName||this.noFriendSelected)&&(this.saveSuccess=!1,this.loadingStore.startLoading(),this.createGroup({groupName:this.newGroupName.trim(),friends:this.selectedFriendsForNewGroup}).then(()=>{this.loadFriends(),this.loadingStore.finishLoading(),this.createGroupModalClose(),this.saveSuccess=!0,setTimeout(()=>{this.saveSuccess=!1},3e3)}).catch(e=>{this.loadingStore.finishLoading(),this.createGroupModalClose(),e==401?this.$router.push("/login"):(this.saveError=!0,setTimeout(()=>{this.saveError=!1},3e3))}))},showGroupDetail(e){this.groupDetail=e},hideGroupDetail(){this.groupDetail=null},showGroupEdit(e){this.groupEdit=e},hideGroupEdit(e){this.groupEdit=null,e&&(e=="SUC"&&(this.saveSuccess=!0,setTimeout(()=>{this.saveSuccess=!1},3e3)),e=="ER"&&(this.saveError=!0,setTimeout(()=>{this.saveError=!1},3e3)))}}},In={class:"friend-list-container"},yn={class:"friend-actions"},Cn={class:"contact-total"},kn={class:"friend-list"},Gn={class:"friend-data"},Tn=["onClick"],Fn=["onClick"],wn={class:"btn-sm btn-primary"},Dn={for:"new_group_name"},Nn={key:0,class:"text-danger"},En={class:"contact-total"},Mn=["id","value"],Un=["for"],xn={key:0},Ln={key:0,class:"text-danger"},zn={class:"mt-2"};function Pn(e,s,i,u,o,t){const _=g("ContactImage"),h=g("IconEdit"),q=g("Modal"),l=g("ContactGroupDetailModal"),R=g("EditContactModal"),E=g("SuccessToast"),B=g("FailToast");return r(),a("div",In,[n("div",yn,[n("p",Cn,d(e.lg("friends_and_groups_count"))+" : "+d(e.numGroups),1),n("button",{class:"btn-sm btn-secondary",onClick:s[0]||(s[0]=(...m)=>t.createGroupModalOpen&&t.createGroupModalOpen(...m))},d(e.lg("create_group")),1)]),n("div",kn,[(r(!0),a(y,null,C(t.groupCards,m=>(r(),a("div",{key:m.groupId,class:"friend-wrapper mb-1"},[n("div",Gn,[f(_,{friends:m.groupUsers},null,8,["friends"]),n("div",null,[n("h5",{onClick:G=>t.showGroupDetail(m)},d(m.groupName),9,Tn)])]),n("div",null,[m.owner?(r(),a("span",{key:0,class:"icon-edit-btn mr-1",onClick:G=>t.showGroupEdit(m)},[f(h)],8,Fn)):c("",!0),n("button",wn,d(e.lg("send_message")),1)])]))),128))]),f(q,{show:o.showCreateGroupModal,size:"lg",title:e.lg("create_group"),showFooter:!1,onClose:t.createGroupModalClose},{default:w(()=>[n("div",null,[n("div",null,[n("label",Dn,d(e.lg("new_group_name_lbl")),1),F(n("input",{type:"text",id:"new_group_name",onInput:s[1]||(s[1]=(...m)=>t.clearNameError&&t.clearNameError(...m)),"onUpdate:modelValue":s[2]||(s[2]=m=>o.newGroupName=m)},null,544),[[P,o.newGroupName]]),o.missingGroupName?(r(),a("p",Nn,d(e.lg("new_group_name_missing")),1)):c("",!0)]),s[6]||(s[6]=n("hr",{class:"mt-2"},null,-1)),n("div",null,[n("p",En,d(e.lg("friends_count"))+" : "+d(e.numFriends),1),(r(!0),a(y,null,C(e.friends,m=>(r(),a("div",{key:"friends_"+m.friendId,class:"friend-checkbox"},[F(n("input",{type:"checkbox",id:"friend_"+m.friendId,value:m.friendId,onChange:s[3]||(s[3]=(...G)=>t.checkBoxChange&&t.checkBoxChange(...G)),"onUpdate:modelValue":s[4]||(s[4]=G=>o.selectedFriendsForNewGroup=G)},null,40,Mn),[[V,o.selectedFriendsForNewGroup]]),n("label",{for:"friend_"+m.friendId},[f(_,{friends:[m]},null,8,["friends"]),p(" "+d(m.friendName)+" ",1),m.friendCity?(r(),a("span",xn,"( "+d(m.friendCity)+" )",1)):c("",!0)],8,Un)]))),128)),o.noFriendSelected?(r(),a("p",Ln,d(e.lg("no_friend_selected")),1)):c("",!0)]),n("div",zn,[n("button",{class:"btn btn-primary",onClick:s[5]||(s[5]=(...m)=>t.validateAndCreateGroup&&t.validateAndCreateGroup(...m))},d(e.lg("create_group")),1)])])]),_:1},8,["show","title","onClose"]),f(l,{friendGroup:o.groupDetail,onCloseDetails:t.hideGroupDetail},null,8,["friendGroup","onCloseDetails"]),f(R,{friendGroup:o.groupEdit,allFriends:e.friends,onCloseEditDetails:t.hideGroupEdit},null,8,["friendGroup","allFriends","onCloseEditDetails"]),o.saveSuccess?(r(),I(E,{key:0})):c("",!0),o.saveError?(r(),I(B,{key:1})):c("",!0)])}const An=S(Rn,[["render",Pn]]),Bn={components:{ContactTabs:Zs,Contacts:An}},Vn={class:"mt-2"};function On(e,s,i,u,o,t){const _=g("ContactTabs"),h=g("Contacts");return r(),a("div",null,[n("div",null,[f(_)]),n("div",Vn,[f(h)])])}const Hn=S(Bn,[["render",On]]),Kn={components:{BaseLayout:$,Home:Hn}};function Jn(e,s,i,u,o,t){const _=g("Home"),h=g("BaseLayout");return r(),I(h,null,{default:w(()=>[f(_)]),_:1})}const Zn=S(Kn,[["render",Jn]]);export{Zn as default};
