import{L as $,p as R,B as z}from"./BaseLayout-BTiOXl6W.js";import{I as k}from"./IconUser-AEbBV0av.js";import{_ as m,x as n,g as i,h as e,e as y,u as C,i as c,t as l,w as x,k as T,o as u,s as d,m as L,f as M,l as D,v as N,z as B,F,A as U,q as v,B as O,n as b}from"./index-BRvkjrxU.js";import{M as A,F as P}from"./Modal-CXdhgZ92.js";const H={},V={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function q(t,s){return n(),i("svg",V,s[0]||(s[0]=[e("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},null,-1)]))}const w=m(H,[["render",q]]),G={},K={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function j(t,s){return n(),i("svg",K,s[0]||(s[0]=[e("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},null,-1)]))}const J=m(G,[["render",j]]),Q={},W={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function X(t,s){return n(),i("svg",W,s[0]||(s[0]=[e("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},null,-1)]))}const Y=m(Q,[["render",X]]),Z={props:{friend:{type:Object,default(t){return{friendId:null,friendName:"",friendDescription:"",friendCountry:"",friendCity:"",friendImg:null,reqId:null,reqAcceptedDate:null,sendId:null,sendAcceptedDate:null}}}},components:{IconUser:k,Modal:A},data(){return{showDetails:!1}},computed:{...y(C,["lg"]),hasFriend(){return this.friend.friendId!=null}},methods:{modalClose(){this.showDetails=!1},openModal(){this.showDetails=!0}}},ee={key:0,class:"friend-card"},se={class:"friend-card-img"},te=["src"],ne={key:1,class:"icon-lg"},oe={class:""},ae=["src"],ie={key:1,class:"icon-lg"},re={class:"text-bold"},ce={class:"text-bold"},le={class:"text-bold"};function de(t,s,r,p,a,o){const _=d("IconUser"),f=d("Modal");return o.hasFriend?(n(),i("div",ee,[e("div",se,[r.friend.friendImg?(n(),i("img",{key:0,src:r.friend.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,te)):(n(),i("span",ne,[c(_)]))]),e("div",{class:"friend-card-name",onClick:s[0]||(s[0]=(...g)=>o.openModal&&o.openModal(...g))},[e("h5",null,l(r.friend.friendName),1)]),s[1]||(s[1]=e("div",{class:"friend-card-action"}," Actions!!! ",-1)),c(f,{show:a.showDetails,size:"md",title:r.friend.friendName,showFooter:!1,onClose:o.modalClose},{default:x(()=>[e("div",null,[e("div",oe,[r.friend.friendImg?(n(),i("img",{key:0,src:r.friend.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,ae)):(n(),i("span",ie,[c(_)]))]),e("div",null,[e("p",null,[e("span",re,l(t.lg("city"))+" :",1),T(l(r.friend.friendCity??"????"),1)]),e("p",null,[e("span",ce,l(t.lg("friend_country"))+" :",1),T(l(r.friend.friendCountry??"????"),1)]),e("p",null,[e("span",le,l(t.lg("friend_des")),1)]),e("p",null,l(r.friend.friendDescription??"??????"),1)])])]),_:1},8,["show","title","onClose"])])):u("",!0)}const he=m(Z,[["render",de]]),_e={components:{IconSearch:w,LoadingOverlay:$,FailToast:P,FriendCard:he},data(){return{submitting:!1,searchText:"",firstSearch:!0,searchResult:[],searchError:!1,paginationIndex:0}},computed:{...y(C,["lg"]),...L(R),hasSearchResult(){return this.searchResult.length>0},hasPagination(){return this.searchResult.length>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.searchResult.length},cardsToShow(){let t=[];if(!this.hasSearchResult)return t;let s=this.paginationIndex*this.paginationSizesStore.topSize;s>this.searchResult.length-1&&(s=this.searchResult.length-1),this.paginationSizesStore.topSize>=this.searchResult.length&&(s=0);let r=s+this.paginationSizesStore.topSize;r>this.searchResult.length&&(r=this.searchResult.length);for(let p=s;p<r;p++)t.push(this.searchResult[p]);return t}},methods:{searchUsers(){this.searchText.trim()!=""&&(this.firstSearch=!1,this.submitting=!0,this.searchError=!1,M.get("/api/resources/search-user?un="+this.searchText.trim()).then(t=>{this.submitting=!1,this.searchResult=t.data.users}).catch(t=>{this.submitting=!1,this.searchError=!0,setTimeout(()=>{this.searchError=!1},3e3),console.log(t)}))},paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++}},mounted(){this.submitting=!1,this.searchText="",this.firstSearch=!0,document.getElementById("search_input").focus()}},ue={class:"search-menu"},pe={class:"user-search-input"},fe={for:"search_input"},me={class:"password-container"},ge=["disabled"],be=["disabled"],ve={class:"icon"},Se={key:0,class:"search-result-holder"},Ie={class:"results"},Te={key:0},ye=["disabled"],Ce={class:"result-cards"},ke={key:1},xe=["disabled"],we={key:1,class:"search-result-no-result-holder"},Ee={key:0},$e={key:1};function Re(t,s,r,p,a,o){const _=d("IconSearch"),f=d("FriendCard"),g=d("LoadingOverlay"),S=d("FailToast");return n(),i("div",null,[e("div",ue,[e("div",pe,[e("label",fe,l(t.lg("user_search")),1),e("div",me,[D(e("input",{id:"search_input",type:"text","onUpdate:modelValue":s[0]||(s[0]=h=>a.searchText=h),disabled:a.submitting,onKeypress:s[1]||(s[1]=B((...h)=>o.searchUsers&&o.searchUsers(...h),["enter"]))},null,40,ge),[[N,a.searchText]]),e("button",{type:"button",onClick:s[2]||(s[2]=(...h)=>o.searchUsers&&o.searchUsers(...h)),disabled:a.submitting},[e("span",ve,[c(_)])],8,be)])])]),e("div",null,[o.hasSearchResult?(n(),i("div",Se,[e("p",null,[e("span",null,l(a.searchResult.length),1),s[5]||(s[5]=T()),e("span",null,l(t.lg("results")),1)]),e("div",Ie,[o.hasPagination?(n(),i("div",Te,[e("button",{type:"button",disabled:a.paginationIndex==0,class:"pag-btn",onClick:s[3]||(s[3]=(...h)=>o.paginateLeft&&o.paginateLeft(...h))},"<",8,ye)])):u("",!0),e("div",Ce,[(n(!0),i(F,null,U(o.cardsToShow,h=>(n(),v(f,{key:"friend_"+h.friendId,friend:h},null,8,["friend"]))),128))]),o.hasPagination?(n(),i("div",ke,[e("button",{type:"button",disabled:o.rightPaginationDisabled,class:"pag-btn",onClick:s[4]||(s[4]=(...h)=>o.paginateRight&&o.paginateRight(...h))},">",8,xe)])):u("",!0)])])):(n(),i("div",we,[a.firstSearch?(n(),i("p",Ee,l(t.lg("user_search_before")),1)):(n(),i("p",$e,l(t.lg("user_search_not_find")),1))]))]),a.submitting?(n(),v(g,{key:0})):u("",!0),a.searchError?(n(),v(S,{key:1})):u("",!0)])}const ze=m(_e,[["render",Re]]),Le={components:{IconUser:k,IconEarth:O,IconSearch:w,IconLeft:J,IconRight:Y,SearchContactTab:ze},data(){return{selectedTab:"SOME"}},computed:{...y(C,["lg"])},methods:{selectTab(t){t==this.selectedTab?this.selectedTab="NONE":this.selectedTab=t}}},Me={class:"contact-tabs"},De={class:"tab"},Ne={class:"icon"},Be={class:"icon"},Fe={class:"tab-text"},Ue={class:"icon"},Oe={class:"icon"},Ae={class:"tab-text"},Pe={class:"icon"},He={class:"icon"},Ve={class:"tab-text"},qe={class:"icon"},Ge={class:"icon"},Ke={class:"tab-text"},je={key:0,class:"tab-content"},Je={key:0},Qe={key:1},We={key:2},Xe={key:3};function Ye(t,s,r,p,a,o){const _=d("IconUser"),f=d("IconEarth"),g=d("IconSearch"),S=d("IconLeft"),h=d("IconRight"),E=d("SearchContactTab");return n(),i("div",Me,[e("div",De,[e("span",{class:b(["tab-menu",{"active-tab":a.selectedTab=="SOME"}]),onClick:s[0]||(s[0]=I=>o.selectTab("SOME"))},[e("span",Ne,[c(_)]),e("span",Be,[c(f)]),e("span",Fe,l(t.lg("who_can_know")),1)],2),e("span",{class:b(["tab-menu",{"active-tab":a.selectedTab=="SEARCH"}]),onClick:s[1]||(s[1]=I=>o.selectTab("SEARCH"))},[e("span",Ue,[c(_)]),e("span",Oe,[c(g)]),e("span",Ae,l(t.lg("contact_search")),1)],2),e("span",{class:b(["tab-menu",{"active-tab":a.selectedTab=="GET"}]),onClick:s[2]||(s[2]=I=>o.selectTab("GET"))},[e("span",Pe,[c(_)]),e("span",He,[c(S)]),e("span",Ve,l(t.lg("friend_requests")),1)],2),e("span",{class:b(["tab-menu",{"active-tab":a.selectedTab=="SEND"}]),onClick:s[3]||(s[3]=I=>o.selectTab("SEND"))},[e("span",qe,[c(_)]),e("span",Ge,[c(h)]),e("span",Ke,l(t.lg("send_requests")),1)],2)]),a.selectedTab!="NONE"?(n(),i("div",je,[a.selectedTab=="SOME"?(n(),i("div",Je,"Ajanlas")):u("",!0),a.selectedTab=="SEARCH"?(n(),i("div",Qe,[c(E)])):u("",!0),a.selectedTab=="GET"?(n(),i("div",We,"Kapottak")):u("",!0),a.selectedTab=="SEND"?(n(),i("div",Xe,"Elkuldtem, de hun a valasz")):u("",!0)])):u("",!0)])}const Ze=m(Le,[["render",Ye]]),es={};function ss(t,s,r,p,a,o){return n(),i("div",null," contacts ")}const ts=m(es,[["render",ss]]),ns={components:{ContactTabs:Ze,Contacts:ts}},os={class:"mt-2"};function as(t,s,r,p,a,o){const _=d("ContactTabs"),f=d("Contacts");return n(),i("div",null,[e("div",null,[c(_)]),e("div",os,[c(f)])])}const is=m(ns,[["render",as]]),rs={components:{BaseLayout:z,Home:is},props:["socket"]};function cs(t,s,r,p,a,o){const _=d("Home"),f=d("BaseLayout");return n(),v(f,null,{default:x(()=>[c(_)]),_:1})}const us=m(rs,[["render",cs]]);export{us as default};
