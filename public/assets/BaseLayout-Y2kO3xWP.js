import{d as _,f as p,_ as u,x as l,g as h,h as t,R as y,y as z,I as x,a as b,c as $,L as E,m as k,e as C,E as P,u as B,i as n,w as d,t as r,D as U,q as W,o as H,s as a}from"./index-OgCHII-e.js";const D=_("user",{state:()=>({loaded:!1,id:null,username:"",email:"",lg:"HU",country:"",city:"",description:"",profileImg:null}),actions:{load(){return new Promise((e,o)=>{p.get("/api/resources/user-data").then(s=>{this.id=s.data.userId,this.username=s.data.username,this.email=s.data.userEmail,this.lg=s.data.userLg,this.country=s.data.userCountry,this.city=s.data.userCity,this.description=s.data.userDescription,this.profileImg=s.data.userProfileImg,this.loaded=!0,e(!0)}).catch(s=>{s.response.status==401?o(401):o(s)})})},updateUser(e){return new Promise((o,s)=>{p.post("/api/resources/user-update",e).then(i=>{this.id=i.data.userId,this.username=i.data.username,this.email=i.data.userEmail,this.lg=i.data.userLg,this.country=i.data.userCountry,this.city=i.data.userCity,this.description=i.data.userDescription,this.profileImg=i.data.userProfileImg,this.loaded=!0,o(!0)}).catch(i=>{var m;i.response.status==401?s(401):i.response.status==417?s(417):i.response.status==400?s((m=i.response.data)==null?void 0:m.message):s(i)})})},deleteUser(e){return new Promise((o,s)=>{p.post("/api/resources/user-delete",e).then(()=>{this.id=null,this.username="",this.email="",this.lg="HU",this.country="",this.city="",this.description="",this.profileImg=null,this.loaded=!1,o(!0)}).catch(i=>{s(i)})})}}}),O=_("paginationSizes",{state:()=>({topSize:5}),actions:{calculatePaginationStep(){if(window.innerWidth>1600){this.topSize=5;return}if(window.innerWidth>1160){this.topSize=4;return}if(window.innerWidth>915){this.topSize=3;return}if(window.innerWidth>749){this.topSize=2;return}if(window.innerWidth>685){this.topSize=3;return}if(window.innerWidth>505){this.topSize=2;return}this.topSize=1}}}),R=_("loading",{state:()=>({counter:0,showLoading:!1}),actions:{startLoading(){this.counter++,this.showLoading||(this.showLoading=!0)},finishLoading(){this.counter--,this.counter<1&&(this.showLoading=!1)}}}),M={},N={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"};function T(e,o){return l(),h("svg",N,o[0]||(o[0]=[t("path",{d:"M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"},null,-1)]))}const V=u(M,[["render",T]]),q={},A={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"};function F(e,o){return l(),h("svg",A,o[0]||(o[0]=[t("path",{d:"M64 64l224 0 0 9.8c0 39-23.7 74-59.9 88.4C167.6 186.5 128 245 128 310.2l0 73.8s0 0 0 0l-64 0L64 64zm288 0l224 0 0 320-67.7 0-3.7-4.5-75.2-90.2c-9.1-10.9-22.6-17.3-36.9-17.3l-71.1 0-41-63.1c-.3-.5-.6-1-1-1.4c44.7-29 72.5-79 72.5-133.6l0-9.8zm73 320l-45.8 0 42.7 64L592 448c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48L48 0C21.5 0 0 21.5 0 48L0 400c0 26.5 21.5 48 48 48l260.2 0 33.2 49.8c9.8 14.7 29.7 18.7 44.4 8.9s18.7-29.7 8.9-44.4L310.5 336l74.6 0 40 48zm-159.5 0L192 384s0 0 0 0l0-73.8c0-10.2 1.6-20.1 4.7-29.5L265.5 384zM192 128a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"},null,-1)]))}const G=u(q,[["render",F]]),J={},K={class:"overlay"};function Q(e,o){return l(),h("div",K,o[0]||(o[0]=[t("div",{class:"overlay-icon-box"},[t("span",{class:"loader"})],-1)]))}const X=u(J,[["render",Q]]),Y={components:{RouterLink:y,IconIdCard:z,IconTerms:x,IconShield:b,IconEyeOpen:$,LgSelector:E,IconHome:V,ExitIcon:G,LoadingOverlay:X},data(){return{loadingError:!1}},computed:{...k(D,O,R,P),...C(B,["lg"])},methods:{loadUser(){this.userStore.loaded||(this.loadingStore.startLoading(),this.loadingError=!1,this.userStore.load().then(()=>{this.loadingStore.finishLoading(),this.socketStore.socket&&this.socketStore.socket.emit("identify",{user_id:this.userStore.id})}).catch(e=>{this.loadingStore.finishLoading(),e==401?this.$router.push("/login"):this.loadingError=!0}))}},mounted(){this.loadUser(),this.paginationSizesStore.calculatePaginationStep(),window.addEventListener("resize",this.paginationSizesStore.calculatePaginationStep)},beforeUnmount(){window.removeEventListener("resize",this.paginationSizesStore.calculatePaginationStep)}},Z={class:"base-layout-body"},j={class:"top-nav"},tt={class:"nav-box"},st={class:"icon"},et={class:"hide-mb ml-05 text-bold"},ot={class:"icon"},it={class:"hide-mb ml-05 text-bold"},nt={class:"nav-box"},at={class:"icon"},rt={class:"hide-mb ml-05 text-bold"},lt={class:"icon"},ct={class:"hide-mb ml-05 text-bold"},dt={class:"nav-box"},ut={href:"/logout",class:"menu-item ml-2"},ht={class:"icon"},mt={class:"hide-mb ml-05 text-bold"},pt={class:"content"};function _t(e,o,s,i,m,gt){const g=a("IconTerms"),c=a("RouterLink"),f=a("IconShield"),S=a("IconHome"),w=a("IconIdCard"),L=a("LgSelector"),v=a("ExitIcon"),I=a("LoadingOverlay");return l(),h("div",Z,[t("div",j,[t("nav",null,[t("div",tt,[n(c,{to:"/home/terms",class:"mr-2 menu-item"},{default:d(()=>[t("span",st,[n(g)]),t("span",et,r(e.lg("terms")),1)]),_:1}),n(c,{to:"/home/privacy",class:"mr-2 menu-item"},{default:d(()=>[t("span",ot,[n(f)]),t("span",it,r(e.lg("privacy")),1)]),_:1})]),t("div",nt,[n(c,{to:"/home",class:"menu-item mr-2"},{default:d(()=>[t("span",at,[n(S)]),t("span",rt,r(e.lg("home")),1)]),_:1}),n(c,{to:"/home/profile",class:"menu-item mr-2"},{default:d(()=>[t("span",lt,[n(w)]),t("span",ct,r(e.lg("profile")),1)]),_:1})]),t("div",dt,[n(L,{class:"menu-item"}),t("a",ut,[t("span",ht,[n(v)]),t("span",mt,r(e.lg("logout")),1)])])])]),o[0]||(o[0]=t("div",{class:"side-nav"},[t("div",{class:"side-nav-box"},[t("p",null,"Side"),t("p",null,"Side"),t("p",null,"Side"),t("p",null,"Side"),t("p",null,"Side"),t("p",null,"Side"),t("p",null,"Side"),t("p",null,"Side")])],-1)),t("div",pt,[U(e.$slots,"default")]),e.loadingStore.showLoading?(l(),W(I,{key:0})):H("",!0)])}const St=u(Y,[["render",_t]]);export{St as B,R as l,O as p,D as u};
