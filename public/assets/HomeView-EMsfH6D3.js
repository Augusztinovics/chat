import{l as V,p as O,u as $,B as j}from"./BaseLayout-4ps2I2AW.js";import{I as H}from"./IconUser-BmKdpE4t.js";import{_ as b,x as r,g as a,h as t,d as K,f as v,e as S,z as w,u as k,i as f,t as d,w as D,k as p,o as g,l as T,v as L,s as h,m as N,A as ee,F as y,B as C,q as I,n as F,y as se,r as A}from"./index-BrGVCqO4.js";import{M as z,I as J,F as Q,S as X}from"./SuccessToast-BXlwE2YF.js";const te={},ne={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function ie(e,s){return r(),a("svg",ne,s[0]||(s[0]=[t("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},null,-1)]))}const Y=b(te,[["render",ie]]),re={},ae={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function oe(e,s){return r(),a("svg",ae,s[0]||(s[0]=[t("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},null,-1)]))}const de=b(re,[["render",oe]]),le={},ue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function ce(e,s){return r(),a("svg",ue,s[0]||(s[0]=[t("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},null,-1)]))}const he=b(le,[["render",ce]]),M=K("requestSend",{state:()=>({loaded:!1,requests:[]}),getters:{numSendRequests:e=>e.requests.length??0,isLoaded:e=>e.loaded,sendRequests:e=>e.requests},actions:{loadRequests(){return new Promise((e,s)=>{v.get("/api/resources/sended-friend-requests").then(i=>{var u;this.requests=((u=i.data)==null?void 0:u.sendedRequests)??[],this.loaded=!0,e(!0)}).catch(i=>{i.response.status==401?s(401):s(i)})})},sendRequest(e){return new Promise((s,i)=>{v.post("/api/resources/friend-request-send",e).then(u=>{var o;this.requests=((o=u.data)==null?void 0:o.sendedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})},cancelFrienRequest(e){return new Promise((s,i)=>{v.post("/api/resources/friend-request-delete",e).then(u=>{var o;this.requests=((o=u.data)==null?void 0:o.sendedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})},editFriendRequest(e){return new Promise((s,i)=>{v.post("/api/resources/friend-request-edit",e).then(u=>{var o;this.requests=((o=u.data)==null?void 0:o.sendedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})}}}),U=K("requestGet",{state:()=>({loaded:!1,requests:[]}),getters:{numGetRequests:e=>e.requests.length??0,isLoaded:e=>e.loaded,getRequests:e=>e.requests},actions:{loadRequests(){return new Promise((e,s)=>{v.get("/api/resources/received-friend-requests").then(i=>{var u;this.requests=((u=i.data)==null?void 0:u.receivedRequests)??[],this.loaded=!0,e(!0)}).catch(i=>{i.response.status==401?s(401):s(i)})})},acceptRequest(e){return new Promise((s,i)=>{v.post("/api/resources/friend-request-accept",e).then(u=>{var o;this.requests=((o=u.data)==null?void 0:o.receivedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})},denieRequest(e){return new Promise((s,i)=>{v.post("/api/resources/friend-request-denie",e).then(u=>{var o;this.requests=((o=u.data)==null?void 0:o.receivedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})}}}),B=K("friends",{state:()=>({friends:[],groups:[]}),getters:{numFriends:e=>e.friends.length??0,numGroups:e=>e.groups.length??0,allFriends:e=>e.friends,allGroups:e=>e.groups,getFriendData:e=>s=>e.friends.find(i=>i.friendId==s)},actions:{loadFriends(){return new Promise((e,s)=>{v.get("/api/resources/friends").then(i=>{var u,o;this.friends=((u=i.data)==null?void 0:u.friends)??[],this.groups=((o=i.data)==null?void 0:o.groups)??[],e(!0)}).catch(i=>{console.log(i),i.response.status==401?s(401):s(i)})})},createGroup(e){return new Promise((s,i)=>{v.post("/api/resources/create-group",e).then(()=>{s(!0)}).catch(u=>{u.response.status==401?i(401):i(u)})})}}}),ge={props:{friend:{type:Object,default(e){return{friendId:null,friendName:"",friendDescription:"",friendCountry:"",friendCity:"",friendImg:null,reqId:null,reqAcceptedDate:null,sendId:null,sendAcceptedDate:null,messageToFriend:"",messageFromFriend:""}}}},components:{IconUser:H,Modal:z,IconEdit:J},data(){return{showDetails:!1,sending:!1,showRequestModal:!1,requestText:"",editing:!1}},computed:{...S(k,["lg"]),hasFriend(){return this.friend.friendId!=null},isFriend(){return this.friend.reqId&&this.friend.reqAcceptedDate||this.friend.sendId&&this.friend.sendAcceptedDate},isReqGet(){return this.friend.reqId&&!this.friend.reqAcceptedDate},isReqSend(){return this.friend.sendId&&!this.friend.sendAcceptedDate}},methods:{...w(M,["sendRequest","cancelFrienRequest","editFriendRequest"]),...w(U,["acceptRequest","denieRequest"]),modalClose(){this.showDetails=!1},openModal(){this.showDetails=!0},openRequestModal(){this.requestText="",this.showRequestModal=!0,setTimeout(()=>{document.getElementById("request_text_input_field").focus()},300)},sendFriendRequest(){this.editing?(this.showRequestModal=!1,this.sending=!0,this.editFriendRequest({requestId:this.friend.sendId,text:this.requestText.trim()}).then(()=>{this.sending=!1,this.friend.messageToFriend=this.requestText,this.editing=!1,this.showDetails=!0}).catch(e=>{this.sending=!1,this.editing=!1,e==401&&this.$router.push("/login")})):(this.showRequestModal=!1,this.sending=!0,this.sendRequest({friendId:this.friend.friendId,text:this.requestText.trim()}).then(()=>{this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("frind_request_send"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("frind_request_send_fail"))}))},acceptFriendRequest(){this.sending=!0,this.acceptRequest({requestId:this.friend.reqId}).then(()=>{this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("frien_request_accepted"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("general_error"))})},denieFriendRequest(){this.sending=!0,this.denieRequest({requestId:this.friend.reqId}).then(()=>{this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("request_denited"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("general_error"))})},cancelRequest(){this.sending=!0,this.cancelFrienRequest({requestId:this.friend.sendId}).then(()=>{this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("request_canceled"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("general_error"))})},editRequestMessage(){this.showDetails=!1,this.editing=!0,this.requestText=this.friend.messageToFriend??"",this.showRequestModal=!0,setTimeout(()=>{document.getElementById("request_text_input_field").focus().select()},300)},sendMessage(){}}},fe={key:0,class:"friend-card"},me={class:"friend-card-img"},_e=["src"],pe={key:1,class:"icon-lg"},be={class:"friend-card-action"},Se=["disabled"],qe={key:1},Re=["disabled"],ve=["disabled"],Ie={key:2},ye=["disabled"],Ce=["disabled"],ke={class:"text-left"},Ge={class:"text-center mt-1 mb-2"},Te=["src"],we={key:1,class:"icon-lg"},De={class:"friend-modal-des"},Fe={class:"text-bold"},Ne={class:"text-bold"},Ee={class:"text-bold"},xe={class:"mb-2"},Me={key:0},Ue={key:0},Le={key:1},ze={class:"mt-2 friend-card-btns"},Pe=["disabled"],Ae=["disabled"],Be={key:1},Ve={key:0},Oe={key:1},He={class:"request-modal-body"},Ke={for:"request_text_input_field"};function Je(e,s,i,u,o,n){const _=h("IconUser"),c=h("IconEdit"),q=h("Modal");return n.hasFriend?(r(),a("div",fe,[t("div",me,[i.friend.friendImg?(r(),a("img",{key:0,src:i.friend.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,_e)):(r(),a("span",pe,[f(_)]))]),t("div",{class:"friend-card-name",onClick:s[0]||(s[0]=(...l)=>n.openModal&&n.openModal(...l))},[t("h5",null,d(i.friend.friendName),1)]),t("div",be,[n.isFriend?(r(),a("button",{key:0,class:"btn-sm btn-primary btn-block",onClick:s[1]||(s[1]=(...l)=>n.sendMessage&&n.sendMessage(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("send_message")),9,Se)):n.isReqGet?(r(),a("div",qe,[t("button",{class:"btn-sm btn-primary btn-block",onClick:s[2]||(s[2]=(...l)=>n.acceptFriendRequest&&n.acceptFriendRequest(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("accept_request")),9,Re),t("button",{class:"btn-sm btn-danger btn-block",onClick:s[3]||(s[3]=(...l)=>n.denieFriendRequest&&n.denieFriendRequest(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("denie_request")),9,ve)])):n.isReqSend?(r(),a("div",Ie,[t("p",null,d(e.lg("already_send")),1),t("button",{class:"btn-sm btn-danger btn-block",onClick:s[4]||(s[4]=(...l)=>n.cancelRequest&&n.cancelRequest(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("cancel_request")),9,ye)])):(r(),a("button",{key:3,class:"btn-sm btn-primary btn-block",onClick:s[5]||(s[5]=(...l)=>n.openRequestModal&&n.openRequestModal(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("send_request")),9,Ce))]),f(q,{show:o.showDetails,size:"md",title:i.friend.friendName,headerClass:"text-left",showFooter:!1,onClose:n.modalClose},{default:D(()=>[t("div",ke,[t("div",Ge,[i.friend.friendImg?(r(),a("img",{key:0,src:i.friend.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,Te)):(r(),a("span",we,[f(_)]))]),t("div",De,[t("p",null,[t("span",Fe,d(e.lg("city"))+" :",1),p(d(i.friend.friendCity??"????"),1)]),t("p",null,[t("span",Ne,d(e.lg("friend_country"))+" :",1),p(d(i.friend.friendCountry??"????"),1)]),t("p",null,[t("span",Ee,d(e.lg("friend_des"))+" :",1)]),t("p",xe,d(i.friend.friendDescription??"??????"),1),n.isReqGet?(r(),a("div",Me,[t("p",null,d(e.lg("message")),1),i.friend.messageFromFriend?(r(),a("p",Ue,d(i.friend.messageFromFriend),1)):(r(),a("p",Le,d(e.lg("no_message")),1)),t("div",ze,[t("button",{class:"btn btn-primary",onClick:s[6]||(s[6]=(...l)=>n.acceptFriendRequest&&n.acceptFriendRequest(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("accept_request")),9,Pe),t("button",{class:"btn btn-danger",onClick:s[7]||(s[7]=(...l)=>n.denieFriendRequest&&n.denieFriendRequest(...l)),disabled:o.sending},d(o.sending?e.lg("sending"):e.lg("denie_request")),9,Ae)])])):g("",!0),n.isReqSend?(r(),a("div",Be,[t("p",null,d(e.lg("you_request_text")),1),i.friend.messageToFriend?(r(),a("p",Ve,[p(d(i.friend.messageToFriend)+" ",1),t("span",{class:"icon-edit-btn ml-1",onClick:s[8]||(s[8]=(...l)=>n.editRequestMessage&&n.editRequestMessage(...l))},[f(c)])])):(r(),a("p",Oe,[p(d(e.lg("no_request_send_text"))+" ",1),t("span",{class:"icon-edit-btn ml-1",onClick:s[9]||(s[9]=(...l)=>n.editRequestMessage&&n.editRequestMessage(...l))},[f(c)])]))])):g("",!0)])])]),_:1},8,["show","title","onClose"]),f(q,{show:o.showRequestModal,size:"sm",title:e.lg("send_request"),headerClass:"text-left",showCancel:!0,cancelBtnText:e.lg("cancel"),okBtnText:e.lg("send"),onClose:s[11]||(s[11]=l=>o.showRequestModal=!1),onCancel:s[12]||(s[12]=l=>o.showRequestModal=!1),onOk:n.sendFriendRequest},{default:D(()=>[t("div",He,[t("p",null,[p(d(e.lg("addresse"))+" ",1),t("span",null,d(i.friend.friendName),1)]),t("label",Ke,d(e.lg("few_words")),1),T(t("textarea",{name:"requestText",id:"request_text_input_field","onUpdate:modelValue":s[10]||(s[10]=l=>o.requestText=l)},null,512),[[L,o.requestText]])])]),_:1},8,["show","title","cancelBtnText","okBtnText","onOk"])])):g("",!0)}const W=b(ge,[["render",Je]]),Qe={components:{IconSearch:Y,FailToast:Q,FriendCard:W},data(){return{submitting:!1,searchText:"",firstSearch:!0,searchResult:[],searchError:!1,paginationIndex:0}},computed:{...S(k,["lg"]),...N(O,V),hasSearchResult(){return this.searchResult.length>0},hasPagination(){return this.searchResult.length>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.searchResult.length},cardsToShow(){let e=[];if(!this.hasSearchResult)return e;let s=this.paginationIndex*this.paginationSizesStore.topSize;s>this.searchResult.length-1&&(s=this.searchResult.length-1),this.paginationSizesStore.topSize>=this.searchResult.length&&(s=0);let i=s+this.paginationSizesStore.topSize;i>this.searchResult.length&&(i=this.searchResult.length);for(let u=s;u<i;u++)e.push(this.searchResult[u]);return e}},methods:{searchUsers(){this.searchText.trim()!=""&&(this.firstSearch=!1,this.submitting=!0,this.loadingStore.startLoading(),this.searchError=!1,v.get("/api/resources/search-user?un="+this.searchText.trim()).then(e=>{this.submitting=!1,this.loadingStore.finishLoading(),this.searchResult=e.data.users}).catch(e=>{this.submitting=!1,this.loadingStore.finishLoading(),this.searchError=!0,setTimeout(()=>{this.searchError=!1},3e3),console.log(e)}))},paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++},reloadData(e,s){this.$emit("reloadData",e,s)}},mounted(){this.submitting=!1,this.searchText="",this.firstSearch=!0,document.getElementById("search_input").focus()}},We={class:"search-menu"},Xe={class:"user-search-input"},Ye={for:"search_input"},Ze={class:"password-container"},$e=["disabled"],je=["disabled"],es={class:"icon"},ss={key:0,class:"search-result-holder"},ts={class:"results"},ns={key:0},is=["disabled"],rs={class:"result-cards"},as={key:1},os=["disabled"],ds={key:1,class:"search-result-no-result-holder"},ls={key:0},us={key:1};function cs(e,s,i,u,o,n){const _=h("IconSearch"),c=h("FriendCard"),q=h("FailToast");return r(),a("div",null,[t("div",We,[t("div",Xe,[t("label",Ye,d(e.lg("user_search")),1),t("div",Ze,[T(t("input",{id:"search_input",type:"text","onUpdate:modelValue":s[0]||(s[0]=l=>o.searchText=l),disabled:o.submitting,onKeypress:s[1]||(s[1]=ee((...l)=>n.searchUsers&&n.searchUsers(...l),["enter"]))},null,40,$e),[[L,o.searchText]]),t("button",{type:"button",onClick:s[2]||(s[2]=(...l)=>n.searchUsers&&n.searchUsers(...l)),disabled:o.submitting},[t("span",es,[f(_)])],8,je)])])]),t("div",null,[n.hasSearchResult?(r(),a("div",ss,[t("p",null,[t("span",null,d(o.searchResult.length),1),s[5]||(s[5]=p()),t("span",null,d(e.lg("results")),1)]),t("div",ts,[n.hasPagination?(r(),a("div",ns,[t("button",{type:"button",disabled:o.paginationIndex==0,class:"pag-btn",onClick:s[3]||(s[3]=(...l)=>n.paginateLeft&&n.paginateLeft(...l))},"<",8,is)])):g("",!0),t("div",rs,[(r(!0),a(y,null,C(n.cardsToShow,l=>(r(),I(c,{key:"friend_"+l.friendId,friend:l,onReloadData:n.reloadData},null,8,["friend","onReloadData"]))),128))]),n.hasPagination?(r(),a("div",as,[t("button",{type:"button",disabled:n.rightPaginationDisabled,class:"pag-btn",onClick:s[4]||(s[4]=(...l)=>n.paginateRight&&n.paginateRight(...l))},">",8,os)])):g("",!0)])])):(r(),a("div",ds,[o.firstSearch?(r(),a("p",ls,d(e.lg("user_search_before")),1)):(r(),a("p",us,d(e.lg("user_search_not_find")),1))]))]),o.searchError?(r(),I(q,{key:0})):g("",!0)])}const hs=b(Qe,[["render",cs]]),gs={components:{FriendCard:W},data(){return{paginationIndex:0}},computed:{...S(k,["lg"]),...S(M,["numSendRequests","sendRequests"]),...N(O),hasPagination(){return this.numSendRequests>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.numSendRequests},cardsToShow(){let e=[];if(this.numSendRequests<1)return e;let s=this.paginationIndex*this.paginationSizesStore.topSize;s>this.sendRequests.length-1&&(s=this.sendRequests.length-1),this.paginationSizesStore.topSize>=this.sendRequests.length&&(s=0);let i=s+this.paginationSizesStore.topSize;i>this.sendRequests.length&&(i=this.sendRequests.length);for(let u=s;u<i;u++)e.push(this.sendRequests[u]);return e}},methods:{paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++},changeTabToSearch(){this.$emit("changeTab")},reloadData(e,s){this.$emit("reloadData",e,s)}}},fs={key:0,class:"search-result-holder"},ms={class:"results"},_s={key:0},ps=["disabled"],bs={class:"result-cards"},Ss={key:1},qs=["disabled"],Rs={key:1,class:"text-center m-2"};function vs(e,s,i,u,o,n){const _=h("FriendCard");return r(),a("div",null,[e.numSendRequests?(r(),a("div",fs,[t("div",ms,[n.hasPagination?(r(),a("div",_s,[t("button",{type:"button",disabled:o.paginationIndex==0,class:"pag-btn",onClick:s[0]||(s[0]=(...c)=>n.paginateLeft&&n.paginateLeft(...c))},"<",8,ps)])):g("",!0),t("div",bs,[(r(!0),a(y,null,C(n.cardsToShow,c=>(r(),I(_,{key:"send__request_"+c.friendId,friend:c,onReloadData:n.reloadData},null,8,["friend","onReloadData"]))),128))]),n.hasPagination?(r(),a("div",Ss,[t("button",{type:"button",disabled:n.rightPaginationDisabled,class:"pag-btn",onClick:s[1]||(s[1]=(...c)=>n.paginateRight&&n.paginateRight(...c))},">",8,qs)])):g("",!0)])])):(r(),a("div",Rs,[t("p",null,[p(d(e.lg("not_send_any_request_yet"))+" ",1),t("span",{class:"btn-link",onClick:s[2]||(s[2]=(...c)=>n.changeTabToSearch&&n.changeTabToSearch(...c))},d(e.lg("contact_search")),1)])]))])}const Is=b(gs,[["render",vs]]),ys={components:{FriendCard:W},data(){return{paginationIndex:0}},computed:{...S(k,["lg"]),...S(U,["numGetRequests","getRequests"]),...N(O),hasPagination(){return this.numGetRequests>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.numGetRequests},cardsToShow(){let e=[];if(this.numGetRequests<1)return e;let s=this.paginationIndex*this.paginationSizesStore.topSize;s>this.getRequests.length-1&&(s=this.getRequests.length-1),this.paginationSizesStore.topSize>=this.getRequests.length&&(s=0);let i=s+this.paginationSizesStore.topSize;i>this.getRequests.length&&(i=this.getRequests.length);for(let u=s;u<i;u++)e.push(this.getRequests[u]);return e}},methods:{paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++},changeTabToSearch(){this.$emit("changeTab")},reloadData(e,s){this.$emit("reloadData",e,s)}}},Cs={key:0,class:"search-result-holder"},ks={class:"results"},Gs={key:0},Ts=["disabled"],ws={class:"result-cards"},Ds={key:1},Fs=["disabled"],Ns={key:1,class:"text-center m-2"};function Es(e,s,i,u,o,n){const _=h("FriendCard");return r(),a("div",null,[e.numGetRequests?(r(),a("div",Cs,[t("div",ks,[n.hasPagination?(r(),a("div",Gs,[t("button",{type:"button",disabled:o.paginationIndex==0,class:"pag-btn",onClick:s[0]||(s[0]=(...c)=>n.paginateLeft&&n.paginateLeft(...c))},"<",8,Ts)])):g("",!0),t("div",ws,[(r(!0),a(y,null,C(n.cardsToShow,c=>(r(),I(_,{key:"send__request_"+c.friendId,friend:c,onReloadData:n.reloadData},null,8,["friend","onReloadData"]))),128))]),n.hasPagination?(r(),a("div",Ds,[t("button",{type:"button",disabled:n.rightPaginationDisabled,class:"pag-btn",onClick:s[1]||(s[1]=(...c)=>n.paginateRight&&n.paginateRight(...c))},">",8,Fs)])):g("",!0)])])):(r(),a("div",Ns,[t("p",null,[p(d(e.lg("not_send_any_request_yet"))+" ",1),t("span",{class:"btn-link",onClick:s[2]||(s[2]=(...c)=>n.changeTabToSearch&&n.changeTabToSearch(...c))},d(e.lg("contact_search")),1)])]))])}const xs=b(ys,[["render",Es]]),Ms={components:{IconUser:H,IconSearch:Y,IconLeft:de,IconRight:he,SearchContactTab:hs,SendRequestsTab:Is,GetRequestsTab:xs,SuccessToast:X,FailToast:Q},data(){return{selectedTab:"GET",saveSuccess:!1,saveError:!1,toastMessage:""}},computed:{...N(V),...S(k,["lg"]),...S(M,{numSendRequests:"numSendRequests",isSendStoreLoaded:"isLoaded"}),...S(U,{numGetRequests:"numGetRequests",isGetStoreLoaded:"isLoaded"})},methods:{...w(M,{loadSendRequests:"loadRequests"}),...w(U,{loadGetRequests:"loadRequests"}),...w(B,{loadFriends:"loadFriends"}),selectTab(e){e==this.selectedTab?this.selectedTab="NONE":this.selectedTab=e},loadStores(e="NONE",s=""){let i=[];this.isSendStoreLoaded||i.push(this.loadSendRequests()),this.isGetStoreLoaded||i.push(this.loadGetRequests()),i.push(this.loadFriends()),this.loadingStore.startLoading(),Promise.all(i).then(()=>{this.loadingStore.finishLoading(),this.numGetRequests>0?this.selectedTab="GET":this.selectedTab="NONE",e!=="NONE"&&(e==="SUCCESS"&&(this.toastMessage=s,this.saveSuccess=!0,setTimeout(()=>{this.saveSuccess=!1,this.toastMessage=""},3e3)),e==="ERROR"&&(this.toastMessage=s,this.saveError=!0,setTimeout(()=>{this.saveError=!1,this.toastMessage=""},3e3)))}).catch(u=>{this.loadingStore.finishLoading(),u==401?this.$router.push("/login"):(this.toastMessage=this.lg("general_error"),this.saveError=!0,setTimeout(()=>{this.saveError=!1,this.toastMessage=""},3e3))})}},mounted(){this.loadStores()}},Us={class:"contact-tabs"},Ls={class:"tab"},zs={class:"icon"},Ps={class:"icon"},As={class:"tab-text"},Bs={class:"icon"},Vs={class:"icon"},Os={class:"tab-text"},Hs={key:0,class:"tab-num"},Ks={class:"icon"},Js={class:"icon"},Qs={class:"tab-text"},Ws={key:0,class:"tab-num"},Xs={key:0,class:"tab-content"},Ys={key:0},Zs={key:1},$s={key:2};function js(e,s,i,u,o,n){const _=h("IconUser"),c=h("IconSearch"),q=h("IconLeft"),l=h("IconRight"),R=h("SearchContactTab"),E=h("GetRequestsTab"),P=h("SendRequestsTab"),m=h("SuccessToast"),G=h("FailToast");return r(),a("div",Us,[t("div",Ls,[t("span",{class:F(["tab-menu",{"active-tab":o.selectedTab=="SEARCH"}]),onClick:s[0]||(s[0]=x=>n.selectTab("SEARCH"))},[t("span",zs,[f(_)]),t("span",Ps,[f(c)]),t("span",As,d(e.lg("contact_search")),1)],2),t("span",{class:F(["tab-menu",{"active-tab":o.selectedTab=="GET"}]),onClick:s[1]||(s[1]=x=>n.selectTab("GET"))},[t("span",Bs,[f(_)]),t("span",Vs,[f(q)]),t("span",Os,d(e.lg("friend_requests")),1),e.numGetRequests?(r(),a("sup",Hs,d(e.numGetRequests),1)):g("",!0)],2),t("span",{class:F(["tab-menu",{"active-tab":o.selectedTab=="SEND"}]),onClick:s[2]||(s[2]=x=>n.selectTab("SEND"))},[t("span",Ks,[f(_)]),t("span",Js,[f(l)]),t("span",Qs,d(e.lg("send_requests")),1),e.numSendRequests?(r(),a("sup",Ws,d(e.numSendRequests),1)):g("",!0)],2)]),o.selectedTab!="NONE"?(r(),a("div",Xs,[o.selectedTab=="SEARCH"?(r(),a("div",Ys,[f(R,{onReloadData:n.loadStores},null,8,["onReloadData"])])):g("",!0),o.selectedTab=="GET"?(r(),a("div",Zs,[f(E,{onChangeTab:s[3]||(s[3]=x=>n.selectTab("SEARCH")),onReloadData:n.loadStores},null,8,["onReloadData"])])):g("",!0),o.selectedTab=="SEND"?(r(),a("div",$s,[f(P,{onChangeTab:s[4]||(s[4]=x=>n.selectTab("SEARCH")),onReloadData:n.loadStores},null,8,["onReloadData"])])):g("",!0)])):g("",!0),o.saveSuccess?(r(),I(m,{key:1,msg:o.toastMessage},null,8,["msg"])):g("",!0),o.saveError?(r(),I(G,{key:2,msg:o.toastMessage},null,8,["msg"])):g("",!0)])}const et=b(Ms,[["render",js]]),st={props:{friends:Array},computed:{friendInitiative(){return e=>{let s=e.split(" "),i="";return s.forEach(u=>{u&&(i+=u.charAt(0))}),i?i.toUpperCase():"F"}}}},tt={class:"friend-img"},nt={key:0},it={key:1},rt=["src"],at={key:1,class:"profile-init"},ot={key:2},dt=["src"],lt={key:1,class:"profile-init"},ut=["src"],ct={key:3,class:"profile-init"},ht={key:3},gt=["src"],ft={key:1,class:"profile-init"},mt=["src"],_t={key:3,class:"profile-init"},pt=["src"],bt={key:5,class:"profile-init"},St={key:6};function qt(e,s,i,u,o,n){return r(),a("div",tt,[i.friends.length<1?(r(),a("span",nt,s[0]||(s[0]=[t("span",null,"?",-1)]))):i.friends.length==1?(r(),a("span",it,[i.friends[0].friendImg?(r(),a("img",{key:0,src:i.friends[0].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,rt)):(r(),a("span",at,d(n.friendInitiative(i.friends[0].friendName)),1))])):i.friends.length==2?(r(),a("span",ot,[i.friends[0].friendImg?(r(),a("img",{key:0,src:i.friends[0].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,dt)):(r(),a("span",lt,d(n.friendInitiative(i.friends[0].friendName)),1)),i.friends[1].friendImg?(r(),a("img",{key:2,src:i.friends[1].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,ut)):(r(),a("span",ct,d(n.friendInitiative(i.friends[1].friendName)),1))])):(r(),a("span",ht,[i.friends[0].friendImg?(r(),a("img",{key:0,src:i.friends[0].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,gt)):(r(),a("span",ft,d(n.friendInitiative(i.friends[0].friendName)),1)),i.friends[1].friendImg?(r(),a("img",{key:2,src:i.friends[1].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,mt)):(r(),a("span",_t,d(n.friendInitiative(i.friends[1].friendName)),1)),i.friends[2].friendImg?(r(),a("img",{key:4,src:i.friends[2].friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,pt)):(r(),a("span",bt,d(n.friendInitiative(i.friends[2].friendName)),1)),i.friends.length>3?(r(),a("b",St," + "+d(i.friends.length-3),1)):g("",!0)]))])}const Z=b(st,[["render",qt]]),Rt={components:{Modal:z,IconUser:H,IconIdCard:se},props:["friendGroup"],data(){return{paginationIndex:0,isListView:!0}},computed:{...S(k,["lg"]),showModal(){return!!this.friendGroup},modalTitle(){var e;return((e=this.friendGroup)==null?void 0:e.groupName)??""},groupCreatedDate(){var e;return((e=this.friendGroup)==null?void 0:e.groupCreated)??""},hasUsers(){var e,s;return((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)>0},onlyOneUser(){var e,s;return((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)==1},getUserData(){var e,s;return this.hasUsers&&this.paginationIndex<((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)?this.friendGroup.groupUsers[this.paginationIndex]:{friendCity:null,friendCountry:null,friendDescription:null,friendImg:null,friendName:null}},friendInitiative(){return e=>{let s=e.split(" "),i="";return s.forEach(u=>{u&&(i+=u.charAt(0))}),i?i.toUpperCase():"F"}},paginationLength(){var e,s;return(s=(e=this.friendGroup)==null?void 0:e.groupUsers)!=null&&s.length?this.friendGroup.groupUsers.length-1:0}},methods:{modalClose(){this.paginationIndex=0,this.isListView=!0,this.$emit("closeDetails")},toogleTabView(){this.paginationIndex=0,this.isListView=!this.isListView},paginateLeft(){this.paginationIndex<1||this.paginationIndex--},paginatRight(){this.paginationIndex>=this.paginationLength||this.paginationIndex++},viewDetails(e){this.paginationIndex=e,this.isListView=!1}}},vt={class:"text-left"},It={key:0},yt={key:0},Ct={class:"mt-1 mb-2"},kt=["src"],Gt={key:1,class:"profile-init-lg"},Tt={class:"friend-modal-des"},wt={class:"text-bold"},Dt={class:"text-bold"},Ft={class:"text-bold"},Nt={class:"text-bold"},Et={class:"mb-2"},xt={key:1,class:"contact-tabs left-tabs mt-1"},Mt={class:"tab"},Ut={class:"icon"},Lt={class:"icon"},zt={class:"tab-content"},Pt={key:0},At={class:"friend-img"},Bt=["src"],Vt={key:1,class:"profile-init"},Ot=["onClick"],Ht={key:1},Kt={class:"mt-1 mb-2"},Jt=["src"],Qt={key:1,class:"profile-init-lg"},Wt={class:"friend-modal-des"},Xt={class:"text-bold"},Yt={class:"text-bold"},Zt={class:"text-bold"},$t={class:"text-bold"},jt={class:"mb-2"},en={class:"text-center"};function sn(e,s,i,u,o,n){const _=h("IconIdCard"),c=h("IconUser"),q=h("Modal");return r(),a("div",null,[f(q,{show:n.showModal,size:"md",title:n.modalTitle,headerClass:"text-left",showFooter:!1,onClose:n.modalClose},{default:D(()=>[t("div",vt,[t("p",null,[t("small",null,[t("b",null,d(e.lg("group_created_date"))+":",1),p(" "+d(n.groupCreatedDate),1)])]),n.hasUsers?(r(),a("div",It,[n.onlyOneUser?(r(),a("div",yt,[t("div",Ct,[n.getUserData.friendImg?(r(),a("img",{key:0,src:n.getUserData.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,kt)):(r(),a("span",Gt,d(n.friendInitiative(n.getUserData.friendName)),1))]),t("div",Tt,[t("p",null,[t("span",wt,d(e.lg("friend_name"))+" :",1),p(d(n.getUserData.friendName??"????"),1)]),t("p",null,[t("span",Dt,d(e.lg("city"))+" :",1),p(d(n.getUserData.friendCity??"????"),1)]),t("p",null,[t("span",Ft,d(e.lg("friend_country"))+" :",1),p(d(n.getUserData.friendCountry??"????"),1)]),t("p",null,[t("span",Nt,d(e.lg("friend_des"))+" :",1)]),t("p",Et,d(n.getUserData.friendDescription??"??????"),1)])])):(r(),a("div",xt,[t("div",Mt,[t("span",{class:F(["tab-menu",{"active-tab":o.isListView}]),onClick:s[0]||(s[0]=l=>n.toogleTabView())},[t("span",Ut,[f(_)])],2),t("span",{class:F(["tab-menu",{"active-tab":!o.isListView}]),onClick:s[1]||(s[1]=l=>n.toogleTabView())},[t("span",Lt,[f(c)])],2)]),t("div",zt,[o.isListView?(r(),a("div",Pt,[t("ul",null,[(r(!0),a(y,null,C(i.friendGroup.groupUsers,(l,R)=>(r(),a("li",{key:"friend_list_"+R,class:"mb-1"},[t("p",null,[t("span",At,[l.friendImg?(r(),a("img",{key:0,src:l.friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,Bt)):(r(),a("span",Vt,d(n.friendInitiative(l.friendName)),1))]),s[4]||(s[4]=p()),t("span",{onClick:E=>n.viewDetails(R),class:"btn-link-no-underline text-bold font-lg"},d(l.friendName),9,Ot)])]))),128))])])):(r(),a("div",Ht,[t("div",Kt,[n.getUserData.friendImg?(r(),a("img",{key:0,src:n.getUserData.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,Jt)):(r(),a("span",Qt,d(n.friendInitiative(n.getUserData.friendName)),1))]),t("div",Wt,[t("p",null,[t("span",Xt,d(e.lg("friend_name"))+" :",1),p(d(n.getUserData.friendName??"????"),1)]),t("p",null,[t("span",Yt,d(e.lg("city"))+" :",1),p(d(n.getUserData.friendCity??"????"),1)]),t("p",null,[t("span",Zt,d(e.lg("friend_country"))+" :",1),p(d(n.getUserData.friendCountry??"????"),1)]),t("p",null,[t("span",$t,d(e.lg("friend_des"))+" :",1)]),t("p",jt,d(n.getUserData.friendDescription??"??????"),1)]),t("div",en,[o.paginationIndex>0?(r(),a("button",{key:0,type:"button",class:"btn pag-btn",onClick:s[2]||(s[2]=(...l)=>n.paginateLeft&&n.paginateLeft(...l))},"<")):g("",!0),o.paginationIndex<n.paginationLength?(r(),a("button",{key:1,type:"button",class:"btn pag-btn",onClick:s[3]||(s[3]=(...l)=>n.paginatRight&&n.paginatRight(...l))},">")):g("",!0)])]))])]))])):g("",!0)])]),_:1},8,["show","title","onClose"])])}const tn=b(Rt,[["render",sn]]),nn={components:{Modal:z,IconEdit:J,ContactImage:Z},props:["friendGroup","allFriends"],data(){return{editGroupName:"",editName:!1,missingGroupName:!1,selectedFriendsForDeleteFromGroup:[],selectedFriendsToAddGroup:[]}},computed:{...S(k,["lg"]),showModal(){return!!this.friendGroup},modalTitle(){var e;return((e=this.friendGroup)==null?void 0:e.groupName)??""},hasUsers(){var e,s;return((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)>0},showSaveBtn(){return this.selectedFriendsForDeleteFromGroup.length>0||this.selectedFriendsToAddGroup.length>0||this.editName&&this.editGroupName!=this.modalTitle}},methods:{modalClose(){this.editGroupName="",this.editName=!1,this.$emit("closeEditDetails")},startNameEdit(){this.editGroupName=this.modalTitle,this.missingGroupName=!1,this.editName=!0,setTimeout(()=>{document.getElementById("edit_group_name").focus()},300)},cancelNameEdit(){this.editGroupName="",this.editName=!1,this.missingGroupName=!1},clearNameError(){this.missingGroupName=!1},canAddToGroup(e){var s;return(s=this.friendGroup)!=null&&s.groupUsers?!this.friendGroup.groupUsers.find(u=>u.friendId==e):!0}}},rn={class:"text-left"},an={key:0},on={key:0},dn={for:"edit_group_name"},ln={key:0,class:"text-danger"},un={class:"text-right mt-1"},cn={key:1},hn=["id","value"],gn=["for"],fn={key:0},mn={key:2},_n={key:0,class:"friend-checkbox green-check"},pn=["id","value"],bn=["for"],Sn={key:0},qn={class:"text-center mt-2"},Rn={key:0,type:"button",class:"btn btn-primary ml-1"};function vn(e,s,i,u,o,n){const _=h("IconEdit"),c=h("ContactImage"),q=h("Modal");return r(),a("div",null,[f(q,{show:n.showModal,size:"md",title:n.modalTitle,headerClass:"text-left",showFooter:!1,onClose:n.modalClose},{default:D(()=>[t("div",rn,[n.hasUsers?(r(),a("div",an,[o.editName?(r(),a("div",on,[t("label",dn,d(e.lg("new_group_name_lbl")),1),T(t("input",{type:"text",id:"edit_group_name",onInput:s[0]||(s[0]=(...l)=>n.clearNameError&&n.clearNameError(...l)),"onUpdate:modelValue":s[1]||(s[1]=l=>o.editGroupName=l)},null,544),[[L,o.editGroupName]]),o.missingGroupName?(r(),a("p",ln,d(e.lg("new_group_name_missing")),1)):g("",!0),t("div",un,[t("button",{type:"button",class:"btn-sm btn-secondary ml-1",onClick:s[2]||(s[2]=(...l)=>n.cancelNameEdit&&n.cancelNameEdit(...l))},d(e.lg("cancel")),1)])])):(r(),a("div",cn,[t("h4",null,[p(d(n.modalTitle)+" ",1),t("span",{class:"icon-edit-btn mr-1",onClick:s[3]||(s[3]=(...l)=>n.startNameEdit&&n.startNameEdit(...l))},[f(_)])])])),s[7]||(s[7]=t("hr",{class:"mt-2 mb-2"},null,-1)),t("div",null,[(r(!0),a(y,null,C(i.friendGroup.groupUsers,l=>(r(),a("div",{key:"existing_friends_"+l.friendId,class:"friend-checkbox danger-check"},[T(t("input",{type:"checkbox",id:"existing_friends_"+l.friendId,value:l.friendId,"onUpdate:modelValue":s[4]||(s[4]=R=>o.selectedFriendsForDeleteFromGroup=R)},null,8,hn),[[A,o.selectedFriendsForDeleteFromGroup]]),t("label",{for:"existing_friends_"+l.friendId},[f(c,{friends:[l]},null,8,["friends"]),p(" "+d(l.friendName)+" ",1),l.friendCity?(r(),a("span",fn,"( "+d(l.friendCity)+" )",1)):g("",!0)],8,gn)]))),128))]),s[8]||(s[8]=t("hr",{class:"mt-2 mb-2"},null,-1)),i.allFriends?(r(),a("div",mn,[(r(!0),a(y,null,C(i.allFriends,l=>(r(),a("div",{key:"all_friends_"+l.friendId},[n.canAddToGroup(l.friendId)?(r(),a("div",_n,[T(t("input",{type:"checkbox",id:"all_friends_"+l.friendId,value:l.friendId,"onUpdate:modelValue":s[5]||(s[5]=R=>o.selectedFriendsToAddGroup=R)},null,8,pn),[[A,o.selectedFriendsToAddGroup]]),t("label",{for:"all_friends_"+l.friendId},[f(c,{friends:[l]},null,8,["friends"]),p(" "+d(l.friendName)+" ",1),l.friendCity?(r(),a("span",Sn,"( "+d(l.friendCity)+" )",1)):g("",!0)],8,bn)])):g("",!0)]))),128))])):g("",!0),t("div",qn,[t("button",{type:"button",class:"btn btn-secondary",onClick:s[6]||(s[6]=(...l)=>n.modalClose&&n.modalClose(...l))},d(e.lg("cancel")),1),n.showSaveBtn?(r(),a("button",Rn,d(e.lg("save")),1)):g("",!0)])])):g("",!0)])]),_:1},8,["show","title","onClose"])])}const In=b(nn,[["render",vn]]),yn={components:{Modal:z,ContactImage:Z,SuccessToast:X,FailToast:Q,IconEdit:J,ContactGroupDetailModal:tn,EditContactModal:In},data(){return{showCreateGroupModal:!1,saveError:!1,saveSuccess:!1,newGroupName:"",missingGroupName:!1,selectedFriendsForNewGroup:[],noFriendSelected:!1,groupDetail:null,groupEdit:null}},computed:{...N($,V),...S(B,{numFriends:"numFriends",friends:"allFriends",groups:"allGroups",numGroups:"numGroups",friendData:"getFriendData"}),...S(k,["lg"]),groupCards(){let e=[];return this.groups.forEach(s=>{let i={groupId:s.id,groupName:s.group_name,groupCreated:s.created_at,groupUsers:[]};s.users.forEach(u=>{if(u!==this.userStore.id){let o=this.friendData(u);o&&i.groupUsers.push(o)}}),e.push(i)}),e}},methods:{...w(B,["createGroup","loadFriends"]),createGroupModalOpen(){this.newGroupName="",this.missingGroupName=!1,this.selectedFriendsForNewGroup=[],this.noFriendSelected=!1,this.showCreateGroupModal=!0,setTimeout(()=>{document.getElementById("new_group_name").focus()},500)},createGroupModalClose(){this.showCreateGroupModal=!1},clearNameError(){this.missingGroupName=!1},checkBoxChange(){this.noFriendSelected=!1},validateAndCreateGroup(){this.newGroupName.trim()==""&&(this.missingGroupName=!0,document.getElementById("new_group_name").focus()),this.selectedFriendsForNewGroup.length<1&&(this.noFriendSelected=!0),!(this.missingGroupName||this.noFriendSelected)&&(this.saveSuccess=!1,this.loadingStore.startLoading(),this.createGroup({groupName:this.newGroupName.trim(),friends:this.selectedFriendsForNewGroup}).then(()=>{this.loadFriends(),this.loadingStore.finishLoading(),this.createGroupModalClose(),this.saveSuccess=!0,setTimeout(()=>{this.saveSuccess=!1},3e3)}).catch(e=>{this.loadingStore.finishLoading(),this.createGroupModalClose(),e==401?this.$router.push("/login"):(this.saveError=!0,setTimeout(()=>{this.saveError=!1},3e3))}))},showGroupDetail(e){this.groupDetail=e},hideGroupDetail(){this.groupDetail=null},showGroupEdit(e){this.groupEdit=e},hideGroupEdit(){this.groupEdit=null}}},Cn={class:"friend-list-container"},kn={class:"friend-actions"},Gn={class:"contact-total"},Tn={class:"friend-list"},wn={class:"friend-data"},Dn=["onClick"],Fn=["onClick"],Nn={class:"btn-sm btn-primary"},En={for:"new_group_name"},xn={key:0,class:"text-danger"},Mn={class:"contact-total"},Un=["id","value"],Ln=["for"],zn={key:0},Pn={key:0,class:"text-danger"},An={class:"mt-2"};function Bn(e,s,i,u,o,n){const _=h("ContactImage"),c=h("IconEdit"),q=h("Modal"),l=h("ContactGroupDetailModal"),R=h("EditContactModal"),E=h("SuccessToast"),P=h("FailToast");return r(),a("div",Cn,[t("div",kn,[t("p",Gn,d(e.lg("friends_and_groups_count"))+" : "+d(e.numGroups),1),t("button",{class:"btn-sm btn-secondary",onClick:s[0]||(s[0]=(...m)=>n.createGroupModalOpen&&n.createGroupModalOpen(...m))},d(e.lg("create_group")),1)]),t("div",Tn,[(r(!0),a(y,null,C(n.groupCards,m=>(r(),a("div",{key:m.groupId,class:"friend-wrapper mb-1"},[t("div",wn,[f(_,{friends:m.groupUsers},null,8,["friends"]),t("div",null,[t("h5",{onClick:G=>n.showGroupDetail(m)},d(m.groupName),9,Dn)])]),t("div",null,[t("span",{class:"icon-edit-btn mr-1",onClick:G=>n.showGroupEdit(m)},[f(c)],8,Fn),t("button",Nn,d(e.lg("send_message")),1)])]))),128))]),f(q,{show:o.showCreateGroupModal,size:"lg",title:e.lg("create_group"),showFooter:!1,onClose:n.createGroupModalClose},{default:D(()=>[t("div",null,[t("div",null,[t("label",En,d(e.lg("new_group_name_lbl")),1),T(t("input",{type:"text",id:"new_group_name",onInput:s[1]||(s[1]=(...m)=>n.clearNameError&&n.clearNameError(...m)),"onUpdate:modelValue":s[2]||(s[2]=m=>o.newGroupName=m)},null,544),[[L,o.newGroupName]]),o.missingGroupName?(r(),a("p",xn,d(e.lg("new_group_name_missing")),1)):g("",!0)]),s[6]||(s[6]=t("hr",{class:"mt-2"},null,-1)),t("div",null,[t("p",Mn,d(e.lg("friends_count"))+" : "+d(e.numFriends),1),(r(!0),a(y,null,C(e.friends,m=>(r(),a("div",{key:"friends_"+m.friendId,class:"friend-checkbox"},[T(t("input",{type:"checkbox",id:"friend_"+m.friendId,value:m.friendId,onChange:s[3]||(s[3]=(...G)=>n.checkBoxChange&&n.checkBoxChange(...G)),"onUpdate:modelValue":s[4]||(s[4]=G=>o.selectedFriendsForNewGroup=G)},null,40,Un),[[A,o.selectedFriendsForNewGroup]]),t("label",{for:"friend_"+m.friendId},[f(_,{friends:[m]},null,8,["friends"]),p(" "+d(m.friendName)+" ",1),m.friendCity?(r(),a("span",zn,"( "+d(m.friendCity)+" )",1)):g("",!0)],8,Ln)]))),128)),o.noFriendSelected?(r(),a("p",Pn,d(e.lg("no_friend_selected")),1)):g("",!0)]),t("div",An,[t("button",{class:"btn btn-primary",onClick:s[5]||(s[5]=(...m)=>n.validateAndCreateGroup&&n.validateAndCreateGroup(...m))},d(e.lg("create_group")),1)])])]),_:1},8,["show","title","onClose"]),f(l,{friendGroup:o.groupDetail,onCloseDetails:n.hideGroupDetail},null,8,["friendGroup","onCloseDetails"]),f(R,{friendGroup:o.groupEdit,allFriends:e.friends,onCloseEditDetails:n.hideGroupEdit},null,8,["friendGroup","allFriends","onCloseEditDetails"]),o.saveSuccess?(r(),I(E,{key:0})):g("",!0),o.saveError?(r(),I(P,{key:1})):g("",!0)])}const Vn=b(yn,[["render",Bn]]),On={components:{ContactTabs:et,Contacts:Vn}},Hn={class:"mt-2"};function Kn(e,s,i,u,o,n){const _=h("ContactTabs"),c=h("Contacts");return r(),a("div",null,[t("div",null,[f(_)]),t("div",Hn,[f(c)])])}const Jn=b(On,[["render",Kn]]),Qn={components:{BaseLayout:j,Home:Jn},props:["socket"]};function Wn(e,s,i,u,o,n){const _=h("Home"),c=h("BaseLayout");return r(),I(c,null,{default:D(()=>[f(_)]),_:1})}const jn=b(Qn,[["render",Wn]]);export{jn as default};
