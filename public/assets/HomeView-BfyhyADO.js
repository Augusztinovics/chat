import{t as j,u as W,I as X,l as z,p as O,f as D,C as Y,B as ee}from"./BaseLayout-DKhUGQ-w.js";import{I as H}from"./IconUser-DlL0Yl3b.js";import{_ as v,x as i,g as d,h as t,d as Z,f as I,m as E,e as b,z as F,A as se,u as T,i as m,t as a,w as N,k as _,o as h,l as w,v as A,s as g,B as te,F as y,C as G,q as C,n as q,y as ne,r as V}from"./index-D9WdaEJg.js";import{M as P,I as Q,F as K,S as $}from"./SuccessToast-Cous8Xeu.js";const ie={},re={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function oe(e,s){return i(),d("svg",re,s[0]||(s[0]=[t("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},null,-1)]))}const ae=v(ie,[["render",oe]]),de={},le={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function ue(e,s){return i(),d("svg",le,s[0]||(s[0]=[t("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},null,-1)]))}const ce=v(de,[["render",ue]]),x=Z("requestSend",{state:()=>({loaded:!1,requests:[]}),getters:{numSendRequests:e=>e.requests.length??0,isLoaded:e=>e.loaded,sendRequests:e=>e.requests},actions:{loadRequests(){return new Promise((e,s)=>{I.get("/api/resources/sended-friend-requests").then(l=>{var u;this.requests=((u=l.data)==null?void 0:u.sendedRequests)??[],this.loaded=!0,e(!0)}).catch(l=>{l.response.status==401?s(401):s(l)})})},sendRequest(e){return new Promise((s,l)=>{I.post("/api/resources/friend-request-send",e).then(u=>{var r;this.requests=((r=u.data)==null?void 0:r.sendedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?l(401):l(u)})})},cancelFrienRequest(e){return new Promise((s,l)=>{I.post("/api/resources/friend-request-delete",e).then(u=>{var r;this.requests=((r=u.data)==null?void 0:r.sendedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?l(401):l(u)})})},editFriendRequest(e){return new Promise((s,l)=>{I.post("/api/resources/friend-request-edit",e).then(u=>{var r;this.requests=((r=u.data)==null?void 0:r.sendedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?l(401):l(u)})})}}}),L=Z("requestGet",{state:()=>({loaded:!1,requests:[]}),getters:{numGetRequests:e=>e.requests.length??0,isLoaded:e=>e.loaded,getRequests:e=>e.requests},actions:{loadRequests(){return new Promise((e,s)=>{I.get("/api/resources/received-friend-requests").then(l=>{var u;this.requests=((u=l.data)==null?void 0:u.receivedRequests)??[],this.loaded=!0,e(!0)}).catch(l=>{l.response.status==401?s(401):s(l)})})},acceptRequest(e){return new Promise((s,l)=>{I.post("/api/resources/friend-request-accept",e).then(u=>{var r;this.requests=((r=u.data)==null?void 0:r.receivedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?l(401):l(u)})})},denieRequest(e){return new Promise((s,l)=>{I.post("/api/resources/friend-request-denie",e).then(u=>{var r;this.requests=((r=u.data)==null?void 0:r.receivedRequests)??[],s(!0)}).catch(u=>{u.response.status==401?l(401):l(u)})})}}}),he={props:{friend:{type:Object,default(e){return{friendId:null,friendName:"",friendDescription:"",friendCountry:"",friendCity:"",friendImg:null,reqId:null,reqAcceptedDate:null,sendId:null,sendAcceptedDate:null,messageToFriend:"",messageFromFriend:""}}}},components:{IconUser:H,Modal:P,IconEdit:Q},data(){return{showDetails:!1,sending:!1,showRequestModal:!1,requestText:"",editing:!1}},computed:{...E(W,se,j),...b(T,["lg"]),hasFriend(){return this.friend.friendId!=null},isFriend(){return this.friend.reqId&&this.friend.reqAcceptedDate||this.friend.sendId&&this.friend.sendAcceptedDate},isReqGet(){return this.friend.reqId&&!this.friend.reqAcceptedDate},isReqSend(){return this.friend.sendId&&!this.friend.sendAcceptedDate}},methods:{...F(x,["sendRequest","cancelFrienRequest","editFriendRequest"]),...F(L,["acceptRequest","denieRequest"]),modalClose(){this.showDetails=!1},openModal(){this.showDetails=!0},openRequestModal(){this.requestText="",this.showRequestModal=!0,setTimeout(()=>{document.getElementById("request_text_input_field").focus()},300)},sendFriendRequest(){this.editing?(this.showRequestModal=!1,this.sending=!0,this.editFriendRequest({requestId:this.friend.sendId,text:this.requestText.trim()}).then(()=>{this.sending=!1,this.friend.messageToFriend=this.requestText,this.editing=!1,this.showDetails=!0}).catch(e=>{this.sending=!1,this.editing=!1,e==401&&this.$router.push("/login")})):(this.showRequestModal=!1,this.sending=!0,this.sendRequest({friendId:this.friend.friendId,text:this.requestText.trim()}).then(()=>{if(this.socketStore.socket){let e={event_type:this.toastsStore.EVENT_REQUST_SEND,sender:this.userStore.username,msg:this.requestText.trim(),target_ids:[this.friend.friendId],group_id:null};this.socketStore.socket.emit("update",e)}this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("frind_request_send"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("frind_request_send_fail"))}))},acceptFriendRequest(){this.sending=!0,this.acceptRequest({requestId:this.friend.reqId}).then(()=>{if(this.socketStore.socket){let e={event_type:this.toastsStore.EVENT_REQUST_ACCEPT,sender:this.userStore.username,msg:this.lg("request_accept"),target_ids:[this.friend.friendId],group_id:null};this.socketStore.socket.emit("update",e)}this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("frien_request_accepted"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("general_error"))})},denieFriendRequest(){this.sending=!0,this.denieRequest({requestId:this.friend.reqId}).then(()=>{if(this.socketStore.socket){let e={event_type:this.toastsStore.EVENT_REQUST_DENIE,sender:this.userStore.username,msg:this.lg("request_denie"),target_ids:[this.friend.friendId],group_id:null};this.socketStore.socket.emit("update",e)}this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("request_denited"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("general_error"))})},cancelRequest(){this.sending=!0,this.cancelFrienRequest({requestId:this.friend.sendId}).then(()=>{if(this.socketStore.socket){let e={event_type:this.toastsStore.EVENT_REQUST_DENIE,sender:this.userStore.username,msg:this.lg("request_cancel"),target_ids:[this.friend.friendId],group_id:null};this.socketStore.socket.emit("update",e)}this.sending=!1,this.$emit("reloadData","SUCCESS",this.lg("request_canceled"))}).catch(e=>{this.sending=!1,e==401?this.$router.push("/login"):this.$emit("reloadData","ERROR",this.lg("general_error"))})},editRequestMessage(){this.showDetails=!1,this.editing=!0,this.requestText=this.friend.messageToFriend??"",this.showRequestModal=!0,setTimeout(()=>{document.getElementById("request_text_input_field").focus().select()},300)},sendMessage(){}}},ge={key:0,class:"friend-card"},me={class:"friend-card-img"},fe=["src"],pe={key:1,class:"icon-lg"},_e={class:"friend-card-action"},be=["disabled"],Se={key:1},ve=["disabled"],qe=["disabled"],Re={key:2},Ce=["disabled"],ke=["disabled"],Ie={class:"text-left"},ye={class:"text-center mt-1 mb-2"},Ge=["src"],Te={key:1,class:"icon-lg"},Fe={class:"friend-modal-des"},we={class:"text-bold"},De={class:"text-bold"},Ee={class:"text-bold"},Ne={class:"mb-2"},Me={key:0},Ue={key:0},xe={key:1},Le={class:"mt-2 friend-card-btns"},ze=["disabled"],Ae=["disabled"],Pe={key:1},Be={key:0},Ve={key:1},Oe={class:"request-modal-body"},He={for:"request_text_input_field"};function Qe(e,s,l,u,r,n){const p=g("IconUser"),c=g("IconEdit"),S=g("Modal");return n.hasFriend?(i(),d("div",ge,[t("div",me,[l.friend.friendImg?(i(),d("img",{key:0,src:l.friend.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,fe)):(i(),d("span",pe,[m(p)]))]),t("div",{class:"friend-card-name",onClick:s[0]||(s[0]=(...o)=>n.openModal&&n.openModal(...o))},[t("h5",null,a(l.friend.friendName),1)]),t("div",_e,[n.isFriend?(i(),d("button",{key:0,class:"btn-sm btn-primary btn-block",onClick:s[1]||(s[1]=(...o)=>n.sendMessage&&n.sendMessage(...o)),disabled:r.sending},a(r.sending?e.lg("sending"):e.lg("send_message")),9,be)):n.isReqGet?(i(),d("div",Se,[t("button",{class:"btn-sm btn-primary btn-block",onClick:s[2]||(s[2]=(...o)=>n.acceptFriendRequest&&n.acceptFriendRequest(...o)),disabled:r.sending},a(r.sending?e.lg("sending"):e.lg("accept_request")),9,ve),t("button",{class:"btn-sm btn-danger btn-block",onClick:s[3]||(s[3]=(...o)=>n.denieFriendRequest&&n.denieFriendRequest(...o)),disabled:r.sending},a(r.sending?e.lg("sending"):e.lg("denie_request")),9,qe)])):n.isReqSend?(i(),d("div",Re,[t("p",null,a(e.lg("already_send")),1),t("button",{class:"btn-sm btn-danger btn-block",onClick:s[4]||(s[4]=(...o)=>n.cancelRequest&&n.cancelRequest(...o)),disabled:r.sending},a(r.sending?e.lg("sending"):e.lg("cancel_request")),9,Ce)])):(i(),d("button",{key:3,class:"btn-sm btn-primary btn-block",onClick:s[5]||(s[5]=(...o)=>n.openRequestModal&&n.openRequestModal(...o)),disabled:r.sending},a(r.sending?e.lg("sending"):e.lg("send_request")),9,ke))]),m(S,{show:r.showDetails,size:"md",title:l.friend.friendName,headerClass:"text-left",showFooter:!1,onClose:n.modalClose},{default:N(()=>[t("div",Ie,[t("div",ye,[l.friend.friendImg?(i(),d("img",{key:0,src:l.friend.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,Ge)):(i(),d("span",Te,[m(p)]))]),t("div",Fe,[t("p",null,[t("span",we,a(e.lg("city"))+" :",1),_(a(l.friend.friendCity??"????"),1)]),t("p",null,[t("span",De,a(e.lg("friend_country"))+" :",1),_(a(l.friend.friendCountry??"????"),1)]),t("p",null,[t("span",Ee,a(e.lg("friend_des"))+" :",1)]),t("p",Ne,a(l.friend.friendDescription??"??????"),1),n.isReqGet?(i(),d("div",Me,[t("p",null,a(e.lg("message")),1),l.friend.messageFromFriend?(i(),d("p",Ue,a(l.friend.messageFromFriend),1)):(i(),d("p",xe,a(e.lg("no_message")),1)),t("div",Le,[t("button",{class:"btn btn-primary",onClick:s[6]||(s[6]=(...o)=>n.acceptFriendRequest&&n.acceptFriendRequest(...o)),disabled:r.sending},a(r.sending?e.lg("sending"):e.lg("accept_request")),9,ze),t("button",{class:"btn btn-danger",onClick:s[7]||(s[7]=(...o)=>n.denieFriendRequest&&n.denieFriendRequest(...o)),disabled:r.sending},a(r.sending?e.lg("sending"):e.lg("denie_request")),9,Ae)])])):h("",!0),n.isReqSend?(i(),d("div",Pe,[t("p",null,a(e.lg("you_request_text")),1),l.friend.messageToFriend?(i(),d("p",Be,[_(a(l.friend.messageToFriend)+" ",1),t("span",{class:"icon-edit-btn ml-1",onClick:s[8]||(s[8]=(...o)=>n.editRequestMessage&&n.editRequestMessage(...o))},[m(c)])])):(i(),d("p",Ve,[_(a(e.lg("no_request_send_text"))+" ",1),t("span",{class:"icon-edit-btn ml-1",onClick:s[9]||(s[9]=(...o)=>n.editRequestMessage&&n.editRequestMessage(...o))},[m(c)])]))])):h("",!0)])])]),_:1},8,["show","title","onClose"]),m(S,{show:r.showRequestModal,size:"sm",title:e.lg("send_request"),headerClass:"text-left",showCancel:!0,cancelBtnText:e.lg("cancel"),okBtnText:e.lg("send"),onClose:s[11]||(s[11]=o=>r.showRequestModal=!1),onCancel:s[12]||(s[12]=o=>r.showRequestModal=!1),onOk:n.sendFriendRequest},{default:N(()=>[t("div",Oe,[t("p",null,[_(a(e.lg("addresse"))+" ",1),t("span",null,a(l.friend.friendName),1)]),t("label",He,a(e.lg("few_words")),1),w(t("textarea",{name:"requestText",id:"request_text_input_field","onUpdate:modelValue":s[10]||(s[10]=o=>r.requestText=o)},null,512),[[A,r.requestText]])])]),_:1},8,["show","title","cancelBtnText","okBtnText","onOk"])])):h("",!0)}const J=v(he,[["render",Qe]]),Ke={components:{IconSearch:X,FailToast:K,FriendCard:J},data(){return{submitting:!1,searchText:"",firstSearch:!0,searchResult:[],searchError:!1,paginationIndex:0}},computed:{...b(T,["lg"]),...E(O,z),hasSearchResult(){return this.searchResult.length>0},hasPagination(){return this.searchResult.length>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.searchResult.length},cardsToShow(){let e=[];if(!this.hasSearchResult)return e;let s=this.paginationIndex*this.paginationSizesStore.topSize;s>this.searchResult.length-1&&(s=this.searchResult.length-1),this.paginationSizesStore.topSize>=this.searchResult.length&&(s=0);let l=s+this.paginationSizesStore.topSize;l>this.searchResult.length&&(l=this.searchResult.length);for(let u=s;u<l;u++)e.push(this.searchResult[u]);return e}},methods:{searchUsers(){this.searchText.trim()!=""&&(this.firstSearch=!1,this.submitting=!0,this.loadingStore.startLoading(),this.searchError=!1,I.get("/api/resources/search-user?un="+this.searchText.trim()).then(e=>{this.submitting=!1,this.loadingStore.finishLoading(),this.searchResult=e.data.users}).catch(e=>{this.submitting=!1,this.loadingStore.finishLoading(),this.searchError=!0,setTimeout(()=>{this.searchError=!1},3e3),console.log(e)}))},paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++},reloadData(e,s){this.$emit("reloadData",e,s)}},mounted(){this.submitting=!1,this.searchText="",this.firstSearch=!0,document.getElementById("search_input").focus()}},Je={class:"search-menu"},We={class:"user-search-input"},Xe={for:"search_input"},Ye={class:"password-container"},Ze=["disabled"],$e=["disabled"],je={class:"icon"},es={key:0,class:"search-result-holder"},ss={class:"results"},ts={key:0},ns=["disabled"],is={class:"result-cards"},rs={key:1},os=["disabled"],as={key:1,class:"search-result-no-result-holder"},ds={key:0},ls={key:1};function us(e,s,l,u,r,n){const p=g("IconSearch"),c=g("FriendCard"),S=g("FailToast");return i(),d("div",null,[t("div",Je,[t("div",We,[t("label",Xe,a(e.lg("user_search")),1),t("div",Ye,[w(t("input",{id:"search_input",type:"text","onUpdate:modelValue":s[0]||(s[0]=o=>r.searchText=o),disabled:r.submitting,onKeypress:s[1]||(s[1]=te((...o)=>n.searchUsers&&n.searchUsers(...o),["enter"]))},null,40,Ze),[[A,r.searchText]]),t("button",{type:"button",onClick:s[2]||(s[2]=(...o)=>n.searchUsers&&n.searchUsers(...o)),disabled:r.submitting},[t("span",je,[m(p)])],8,$e)])])]),t("div",null,[n.hasSearchResult?(i(),d("div",es,[t("p",null,[t("span",null,a(r.searchResult.length),1),s[5]||(s[5]=_()),t("span",null,a(e.lg("results")),1)]),t("div",ss,[n.hasPagination?(i(),d("div",ts,[t("button",{type:"button",disabled:r.paginationIndex==0,class:"pag-btn",onClick:s[3]||(s[3]=(...o)=>n.paginateLeft&&n.paginateLeft(...o))},"<",8,ns)])):h("",!0),t("div",is,[(i(!0),d(y,null,G(n.cardsToShow,o=>(i(),C(c,{key:"friend_"+o.friendId,friend:o,onReloadData:n.reloadData},null,8,["friend","onReloadData"]))),128))]),n.hasPagination?(i(),d("div",rs,[t("button",{type:"button",disabled:n.rightPaginationDisabled,class:"pag-btn",onClick:s[4]||(s[4]=(...o)=>n.paginateRight&&n.paginateRight(...o))},">",8,os)])):h("",!0)])])):(i(),d("div",as,[r.firstSearch?(i(),d("p",ds,a(e.lg("user_search_before")),1)):(i(),d("p",ls,a(e.lg("user_search_not_find")),1))]))]),r.searchError?(i(),C(S,{key:0})):h("",!0)])}const cs=v(Ke,[["render",us]]),hs={components:{FriendCard:J},data(){return{paginationIndex:0}},computed:{...b(T,["lg"]),...b(x,["numSendRequests","sendRequests"]),...E(O),hasPagination(){return this.numSendRequests>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.numSendRequests},cardsToShow(){let e=[];if(this.numSendRequests<1)return e;let s=this.paginationIndex*this.paginationSizesStore.topSize;s>this.sendRequests.length-1&&(s=this.sendRequests.length-1),this.paginationSizesStore.topSize>=this.sendRequests.length&&(s=0);let l=s+this.paginationSizesStore.topSize;l>this.sendRequests.length&&(l=this.sendRequests.length);for(let u=s;u<l;u++)e.push(this.sendRequests[u]);return e}},methods:{paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++},changeTabToSearch(){this.$emit("changeTab")},reloadData(e,s){this.$emit("reloadData",e,s)}}},gs={key:0,class:"search-result-holder"},ms={class:"results"},fs={key:0},ps=["disabled"],_s={class:"result-cards"},bs={key:1},Ss=["disabled"],vs={key:1,class:"text-center m-2"};function qs(e,s,l,u,r,n){const p=g("FriendCard");return i(),d("div",null,[e.numSendRequests?(i(),d("div",gs,[t("div",ms,[n.hasPagination?(i(),d("div",fs,[t("button",{type:"button",disabled:r.paginationIndex==0,class:"pag-btn",onClick:s[0]||(s[0]=(...c)=>n.paginateLeft&&n.paginateLeft(...c))},"<",8,ps)])):h("",!0),t("div",_s,[(i(!0),d(y,null,G(n.cardsToShow,c=>(i(),C(p,{key:"send__request_"+c.friendId,friend:c,onReloadData:n.reloadData},null,8,["friend","onReloadData"]))),128))]),n.hasPagination?(i(),d("div",bs,[t("button",{type:"button",disabled:n.rightPaginationDisabled,class:"pag-btn",onClick:s[1]||(s[1]=(...c)=>n.paginateRight&&n.paginateRight(...c))},">",8,Ss)])):h("",!0)])])):(i(),d("div",vs,[t("p",null,[_(a(e.lg("not_send_any_request_yet"))+" ",1),t("span",{class:"btn-link",onClick:s[2]||(s[2]=(...c)=>n.changeTabToSearch&&n.changeTabToSearch(...c))},a(e.lg("contact_search")),1)])]))])}const Rs=v(hs,[["render",qs]]),Cs={components:{FriendCard:J},data(){return{paginationIndex:0}},computed:{...b(T,["lg"]),...b(L,["numGetRequests","getRequests"]),...E(O),hasPagination(){return this.numGetRequests>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.numGetRequests},cardsToShow(){let e=[];if(this.numGetRequests<1)return e;let s=this.paginationIndex*this.paginationSizesStore.topSize;s>this.getRequests.length-1&&(s=this.getRequests.length-1),this.paginationSizesStore.topSize>=this.getRequests.length&&(s=0);let l=s+this.paginationSizesStore.topSize;l>this.getRequests.length&&(l=this.getRequests.length);for(let u=s;u<l;u++)e.push(this.getRequests[u]);return e}},methods:{paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++},changeTabToSearch(){this.$emit("changeTab")},reloadData(e,s){this.$emit("reloadData",e,s)}}},ks={key:0,class:"search-result-holder"},Is={class:"results"},ys={key:0},Gs=["disabled"],Ts={class:"result-cards"},Fs={key:1},ws=["disabled"],Ds={key:1,class:"text-center m-2"};function Es(e,s,l,u,r,n){const p=g("FriendCard");return i(),d("div",null,[e.numGetRequests?(i(),d("div",ks,[t("div",Is,[n.hasPagination?(i(),d("div",ys,[t("button",{type:"button",disabled:r.paginationIndex==0,class:"pag-btn",onClick:s[0]||(s[0]=(...c)=>n.paginateLeft&&n.paginateLeft(...c))},"<",8,Gs)])):h("",!0),t("div",Ts,[(i(!0),d(y,null,G(n.cardsToShow,c=>(i(),C(p,{key:"send__request_"+c.friendId,friend:c,onReloadData:n.reloadData},null,8,["friend","onReloadData"]))),128))]),n.hasPagination?(i(),d("div",Fs,[t("button",{type:"button",disabled:n.rightPaginationDisabled,class:"pag-btn",onClick:s[1]||(s[1]=(...c)=>n.paginateRight&&n.paginateRight(...c))},">",8,ws)])):h("",!0)])])):(i(),d("div",Ds,[t("p",null,[_(a(e.lg("not_send_any_request_yet"))+" ",1),t("span",{class:"btn-link",onClick:s[2]||(s[2]=(...c)=>n.changeTabToSearch&&n.changeTabToSearch(...c))},a(e.lg("contact_search")),1)])]))])}const Ns=v(Cs,[["render",Es]]),Ms={components:{IconUser:H,IconSearch:X,IconLeft:ae,IconRight:ce,SearchContactTab:cs,SendRequestsTab:Rs,GetRequestsTab:Ns,SuccessToast:$,FailToast:K},data(){return{selectedTab:"GET",saveSuccess:!1,saveError:!1,toastMessage:""}},computed:{...E(z),...b(T,["lg"]),...b(x,{numSendRequests:"numSendRequests",isSendStoreLoaded:"isLoaded"}),...b(L,{numGetRequests:"numGetRequests",isGetStoreLoaded:"isLoaded"}),...b(D,{isFriendStoreLoaded:"isLoaded"})},methods:{...F(x,{loadSendRequests:"loadRequests"}),...F(L,{loadGetRequests:"loadRequests"}),...F(D,{loadFriends:"loadFriends"}),selectTab(e){e==this.selectedTab?this.selectedTab="NONE":this.selectedTab=e},loadStores(e="NONE",s=""){let l=[];this.isSendStoreLoaded||l.push(this.loadSendRequests()),this.isGetStoreLoaded||l.push(this.loadGetRequests()),(!this.isFriendStoreLoaded||e!=="NONE")&&l.push(this.loadFriends()),l.length>0&&(this.loadingStore.startLoading(),Promise.all(l).then(()=>{this.loadingStore.finishLoading(),this.numGetRequests>0?this.selectedTab="GET":this.selectedTab="NONE",e!=="NONE"&&(e==="SUCCESS"&&(this.toastMessage=s,this.saveSuccess=!0,setTimeout(()=>{this.saveSuccess=!1,this.toastMessage=""},3e3)),e==="ERROR"&&(this.toastMessage=s,this.saveError=!0,setTimeout(()=>{this.saveError=!1,this.toastMessage=""},3e3)))}).catch(u=>{this.loadingStore.finishLoading(),u==401?this.$router.push("/login"):(this.toastMessage=this.lg("general_error"),this.saveError=!0,setTimeout(()=>{this.saveError=!1,this.toastMessage=""},3e3))}))}},mounted(){this.loadStores()}},Us={class:"contact-tabs"},xs={class:"tab"},Ls={class:"icon"},zs={class:"icon"},As={class:"tab-text"},Ps={class:"icon"},Bs={class:"icon"},Vs={class:"tab-text"},Os={key:0,class:"tab-num"},Hs={class:"icon"},Qs={class:"icon"},Ks={class:"tab-text"},Js={key:0,class:"tab-num"},Ws={key:0,class:"tab-content"},Xs={key:0},Ys={key:1},Zs={key:2};function $s(e,s,l,u,r,n){const p=g("IconUser"),c=g("IconSearch"),S=g("IconLeft"),o=g("IconRight"),R=g("SearchContactTab"),M=g("GetRequestsTab"),B=g("SendRequestsTab"),f=g("SuccessToast"),k=g("FailToast");return i(),d("div",Us,[t("div",xs,[t("span",{class:q(["tab-menu",{"active-tab":r.selectedTab=="SEARCH"}]),onClick:s[0]||(s[0]=U=>n.selectTab("SEARCH"))},[t("span",Ls,[m(p)]),t("span",zs,[m(c)]),t("span",As,a(e.lg("contact_search")),1)],2),t("span",{class:q(["tab-menu",{"active-tab":r.selectedTab=="GET"}]),onClick:s[1]||(s[1]=U=>n.selectTab("GET"))},[t("span",Ps,[m(p)]),t("span",Bs,[m(S)]),t("span",Vs,a(e.lg("friend_requests")),1),e.numGetRequests?(i(),d("sup",Os,a(e.numGetRequests),1)):h("",!0)],2),t("span",{class:q(["tab-menu",{"active-tab":r.selectedTab=="SEND"}]),onClick:s[2]||(s[2]=U=>n.selectTab("SEND"))},[t("span",Hs,[m(p)]),t("span",Qs,[m(o)]),t("span",Ks,a(e.lg("send_requests")),1),e.numSendRequests?(i(),d("sup",Js,a(e.numSendRequests),1)):h("",!0)],2)]),r.selectedTab!="NONE"?(i(),d("div",Ws,[r.selectedTab=="SEARCH"?(i(),d("div",Xs,[m(R,{onReloadData:n.loadStores},null,8,["onReloadData"])])):h("",!0),r.selectedTab=="GET"?(i(),d("div",Ys,[m(M,{onChangeTab:s[3]||(s[3]=U=>n.selectTab("SEARCH")),onReloadData:n.loadStores},null,8,["onReloadData"])])):h("",!0),r.selectedTab=="SEND"?(i(),d("div",Zs,[m(B,{onChangeTab:s[4]||(s[4]=U=>n.selectTab("SEARCH")),onReloadData:n.loadStores},null,8,["onReloadData"])])):h("",!0)])):h("",!0),r.saveSuccess?(i(),C(f,{key:1,msg:r.toastMessage},null,8,["msg"])):h("",!0),r.saveError?(i(),C(k,{key:2,msg:r.toastMessage},null,8,["msg"])):h("",!0)])}const js=v(Ms,[["render",$s]]),et={components:{Modal:P,IconUser:H,IconIdCard:ne},props:["friendGroup"],data(){return{paginationIndex:0,isListView:!0}},computed:{...b(T,["lg"]),...b(D,["isFriendActive"]),showModal(){return!!this.friendGroup},modalTitle(){var e;return((e=this.friendGroup)==null?void 0:e.groupName)??""},groupCreatedDate(){var e;return((e=this.friendGroup)==null?void 0:e.groupCreated)??""},hasUsers(){var e,s;return((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)>0},onlyOneUser(){var e,s;return((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)==1},getUserData(){var e,s;return this.hasUsers&&this.paginationIndex<((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)?this.friendGroup.groupUsers[this.paginationIndex]:{friendCity:null,friendCountry:null,friendDescription:null,friendImg:null,friendName:null}},friendInitiative(){return e=>{let s=e.split(" "),l="";return s.forEach(u=>{u&&(l+=u.charAt(0))}),l?l.toUpperCase():"F"}},paginationLength(){var e,s;return(s=(e=this.friendGroup)==null?void 0:e.groupUsers)!=null&&s.length?this.friendGroup.groupUsers.length-1:0}},methods:{modalClose(){this.paginationIndex=0,this.isListView=!0,this.$emit("closeDetails")},toogleTabView(){this.paginationIndex=0,this.isListView=!this.isListView},paginateLeft(){this.paginationIndex<1||this.paginationIndex--},paginatRight(){this.paginationIndex>=this.paginationLength||this.paginationIndex++},viewDetails(e){this.paginationIndex=e,this.isListView=!1}}},st={class:"text-left"},tt={key:0},nt={key:0},it={class:"mt-1 mb-2"},rt=["src"],ot={key:1,class:"profile-init-lg"},at={class:"friend-modal-des"},dt={class:"text-bold"},lt={class:"text-bold"},ut={class:"text-bold"},ct={class:"text-bold"},ht={class:"mb-2"},gt={key:1,class:"contact-tabs left-tabs mt-1"},mt={class:"tab"},ft={class:"icon"},pt={class:"icon"},_t={class:"tab-content"},bt={key:0},St={class:"friend-img"},vt=["src"],qt={key:1,class:"profile-init"},Rt=["onClick"],Ct={key:1},kt={class:"mt-1 mb-2"},It=["src"],yt={key:1,class:"profile-init-lg"},Gt={class:"friend-modal-des"},Tt={class:"text-bold"},Ft={class:"text-bold"},wt={class:"text-bold"},Dt={class:"text-bold"},Et={class:"mb-2"},Nt={class:"text-center"};function Mt(e,s,l,u,r,n){const p=g("IconIdCard"),c=g("IconUser"),S=g("Modal");return i(),d("div",null,[m(S,{show:n.showModal,size:"md",title:n.modalTitle,headerClass:"text-left",showFooter:!1,onClose:n.modalClose},{default:N(()=>[t("div",st,[t("p",null,[t("small",null,[t("b",null,a(e.lg("group_created_date"))+":",1),_(" "+a(n.groupCreatedDate),1)])]),n.hasUsers?(i(),d("div",tt,[n.onlyOneUser?(i(),d("div",nt,[t("div",it,[t("sup",{class:q(["user-active",{active:e.isFriendActive(n.getUserData.friendId)}])},"⬤",2),n.getUserData.friendImg?(i(),d("img",{key:0,src:n.getUserData.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,rt)):(i(),d("span",ot,a(n.friendInitiative(n.getUserData.friendName)),1))]),t("div",at,[t("p",null,[t("span",dt,a(e.lg("friend_name"))+" :",1),_(a(n.getUserData.friendName??"????"),1)]),t("p",null,[t("span",lt,a(e.lg("city"))+" :",1),_(a(n.getUserData.friendCity??"????"),1)]),t("p",null,[t("span",ut,a(e.lg("friend_country"))+" :",1),_(a(n.getUserData.friendCountry??"????"),1)]),t("p",null,[t("span",ct,a(e.lg("friend_des"))+" :",1)]),t("p",ht,a(n.getUserData.friendDescription??"??????"),1)])])):(i(),d("div",gt,[t("div",mt,[t("span",{class:q(["tab-menu",{"active-tab":r.isListView}]),onClick:s[0]||(s[0]=o=>n.toogleTabView())},[t("span",ft,[m(p)])],2),t("span",{class:q(["tab-menu",{"active-tab":!r.isListView}]),onClick:s[1]||(s[1]=o=>n.toogleTabView())},[t("span",pt,[m(c)])],2)]),t("div",_t,[r.isListView?(i(),d("div",bt,[t("ul",null,[(i(!0),d(y,null,G(l.friendGroup.groupUsers,(o,R)=>(i(),d("li",{key:"friend_list_"+R,class:"mb-1"},[t("p",null,[t("span",St,[t("sup",{class:q(["user-active",{active:e.isFriendActive(o.friendId)}])},"⬤",2),o.friendImg?(i(),d("img",{key:0,src:o.friendImg,alt:"Profile Image",class:"profile-img sm"},null,8,vt)):(i(),d("span",qt,a(n.friendInitiative(o.friendName)),1))]),s[4]||(s[4]=_()),t("span",{onClick:M=>n.viewDetails(R),class:"btn-link-no-underline text-bold font-lg"},a(o.friendName),9,Rt)])]))),128))])])):(i(),d("div",Ct,[t("div",kt,[t("sup",{class:q(["user-active",{active:e.isFriendActive(n.getUserData.friendId)}])},"⬤",2),n.getUserData.friendImg?(i(),d("img",{key:0,src:n.getUserData.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,It)):(i(),d("span",yt,a(n.friendInitiative(n.getUserData.friendName)),1))]),t("div",Gt,[t("p",null,[t("span",Tt,a(e.lg("friend_name"))+" :",1),_(a(n.getUserData.friendName??"????"),1)]),t("p",null,[t("span",Ft,a(e.lg("city"))+" :",1),_(a(n.getUserData.friendCity??"????"),1)]),t("p",null,[t("span",wt,a(e.lg("friend_country"))+" :",1),_(a(n.getUserData.friendCountry??"????"),1)]),t("p",null,[t("span",Dt,a(e.lg("friend_des"))+" :",1)]),t("p",Et,a(n.getUserData.friendDescription??"??????"),1)]),t("div",Nt,[r.paginationIndex>0?(i(),d("button",{key:0,type:"button",class:"btn pag-btn",onClick:s[2]||(s[2]=(...o)=>n.paginateLeft&&n.paginateLeft(...o))},"<")):h("",!0),r.paginationIndex<n.paginationLength?(i(),d("button",{key:1,type:"button",class:"btn pag-btn",onClick:s[3]||(s[3]=(...o)=>n.paginatRight&&n.paginatRight(...o))},">")):h("",!0)])]))])]))])):h("",!0)])]),_:1},8,["show","title","onClose"])])}const Ut=v(et,[["render",Mt]]),xt={components:{Modal:P,IconEdit:Q,ContactImage:Y},props:["friendGroup","allFriends"],data(){return{editGroupName:"",editName:!1,missingGroupName:!1,selectedFriendsForDeleteFromGroup:[],selectedFriendsToAddGroup:[]}},computed:{...E(z),...b(T,["lg"]),...b(D,["isFriendActive"]),showModal(){return!!this.friendGroup},modalTitle(){var e;return((e=this.friendGroup)==null?void 0:e.groupName)??""},hasUsers(){var e,s;return((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)>0},removeGroup(){var e,s;return this.selectedFriendsForDeleteFromGroup.length==((s=(e=this.friendGroup)==null?void 0:e.groupUsers)==null?void 0:s.length)&&this.selectedFriendsToAddGroup.length==0},showSaveBtn(){return this.selectedFriendsForDeleteFromGroup.length>0||this.selectedFriendsToAddGroup.length>0||this.editName&&this.editGroupName!=this.modalTitle}},methods:{...F(D,["updateGroup","loadFriends"]),modalClose(e=!1){this.editGroupName="",this.editName=!1,this.selectedFriendsForDeleteFromGroup=[],this.selectedFriendsToAddGroup=[],this.$emit("closeEditDetails",e)},startNameEdit(){this.editGroupName=this.modalTitle,this.missingGroupName=!1,this.editName=!0,setTimeout(()=>{document.getElementById("edit_group_name").focus()},300)},cancelNameEdit(){this.editGroupName="",this.editName=!1,this.missingGroupName=!1},clearNameError(){this.missingGroupName=!1},canAddToGroup(e){var s;return(s=this.friendGroup)!=null&&s.groupUsers?!this.friendGroup.groupUsers.find(u=>u.friendId==e):!0},saveChanges(e,s=!1){if(!this.showSaveBtn)return;if(this.editName&&this.editGroupName.trim()==""&&!s){this.missingGroupName=!0,document.getElementById("edit_group_name").focus();return}this.loadingStore.startLoading();let l={groupId:this.friendGroup.groupId,del:s};s||(this.editName&&(l.groupName=this.editGroupName.trim()),this.selectedFriendsForDeleteFromGroup.length>0&&(l.removeIds=this.selectedFriendsForDeleteFromGroup),this.selectedFriendsToAddGroup.length>0&&(l.addIds=this.selectedFriendsToAddGroup)),this.updateGroup(l).then(()=>{this.loadFriends(),this.loadingStore.finishLoading(),this.modalClose("SUC")}).catch(u=>{this.loadingStore.finishLoading(),u==401?this.$router.push("/login"):this.modalClose("ER")})}}},Lt={class:"text-left"},zt={key:0},At={key:0},Pt={for:"edit_group_name"},Bt={key:0,class:"text-danger"},Vt={class:"text-right mt-1"},Ot={key:1},Ht={class:"text-bold"},Qt=["id","value"],Kt=["for"],Jt={key:0},Wt={key:2},Xt={class:"text-bold"},Yt={key:0,class:"friend-checkbox green-check"},Zt=["id","value"],$t=["for"],jt={key:0},en={class:"text-center mt-2"};function sn(e,s,l,u,r,n){const p=g("IconEdit"),c=g("ContactImage"),S=g("Modal");return i(),d("div",null,[m(S,{show:n.showModal,size:"md",title:n.modalTitle,headerClass:"text-left",showFooter:!1,onClose:n.modalClose},{default:N(()=>[t("div",Lt,[n.hasUsers?(i(),d("div",zt,[r.editName?(i(),d("div",At,[t("label",Pt,a(e.lg("group_new_name_lbl")),1),w(t("input",{type:"text",id:"edit_group_name",onInput:s[0]||(s[0]=(...o)=>n.clearNameError&&n.clearNameError(...o)),"onUpdate:modelValue":s[1]||(s[1]=o=>r.editGroupName=o)},null,544),[[A,r.editGroupName]]),r.missingGroupName?(i(),d("p",Bt,a(e.lg("group_new_name_missing")),1)):h("",!0),t("div",Vt,[t("button",{type:"button",class:"btn-sm btn-secondary ml-1",onClick:s[2]||(s[2]=(...o)=>n.cancelNameEdit&&n.cancelNameEdit(...o))},a(e.lg("cancel")),1)])])):(i(),d("div",Ot,[t("h4",null,[_(a(n.modalTitle)+" ",1),t("span",{class:"icon-edit-btn mr-1",onClick:s[3]||(s[3]=(...o)=>n.startNameEdit&&n.startNameEdit(...o))},[m(p)])])])),s[9]||(s[9]=t("hr",{class:"mt-2 mb-2"},null,-1)),t("div",null,[t("p",Ht,a(e.lg("friends_in_group")),1),(i(!0),d(y,null,G(l.friendGroup.groupUsers,o=>(i(),d("div",{key:"existing_friends_"+o.friendId,class:"friend-checkbox danger-check"},[w(t("input",{type:"checkbox",id:"existing_friends_"+o.friendId,value:o.friendId,"onUpdate:modelValue":s[4]||(s[4]=R=>r.selectedFriendsForDeleteFromGroup=R)},null,8,Qt),[[V,r.selectedFriendsForDeleteFromGroup]]),t("label",{for:"existing_friends_"+o.friendId},[t("sup",{class:q(["user-active",{active:e.isFriendActive(o.friendId)}])},"⬤",2),m(c,{friends:[o]},null,8,["friends"]),_(" "+a(o.friendName)+" ",1),o.friendCity?(i(),d("span",Jt,"( "+a(o.friendCity)+" )",1)):h("",!0)],8,Kt)]))),128))]),s[10]||(s[10]=t("hr",{class:"mt-2 mb-2"},null,-1)),l.allFriends?(i(),d("div",Wt,[t("p",Xt,a(e.lg("friends_outside_group")),1),(i(!0),d(y,null,G(l.allFriends,o=>(i(),d("div",{key:"all_friends_"+o.friendId},[n.canAddToGroup(o.friendId)?(i(),d("div",Yt,[w(t("input",{type:"checkbox",id:"all_friends_"+o.friendId,value:o.friendId,"onUpdate:modelValue":s[5]||(s[5]=R=>r.selectedFriendsToAddGroup=R)},null,8,Zt),[[V,r.selectedFriendsToAddGroup]]),t("label",{for:"all_friends_"+o.friendId},[t("sup",{class:q(["user-active",{active:e.isFriendActive(o.friendId)}])},"⬤",2),m(c,{friends:[o]},null,8,["friends"]),_(" "+a(o.friendName)+" ",1),o.friendCity?(i(),d("span",jt,"( "+a(o.friendCity)+" )",1)):h("",!0)],8,$t)])):h("",!0)]))),128))])):h("",!0),t("div",en,[t("button",{type:"button",class:"btn btn-secondary",onClick:s[6]||(s[6]=(...o)=>n.modalClose&&n.modalClose(...o))},a(e.lg("cancel")),1),n.showSaveBtn&&!n.removeGroup?(i(),d("button",{key:0,type:"button",class:"btn btn-primary ml-1",onClick:s[7]||(s[7]=(...o)=>n.saveChanges&&n.saveChanges(...o))},a(e.lg("save")),1)):h("",!0),n.showSaveBtn&&n.removeGroup?(i(),d("button",{key:1,type:"button",class:"btn btn-danger ml-1",onClick:s[8]||(s[8]=o=>n.saveChanges(e.e,!0))},a(e.lg("delete_group")),1)):h("",!0)])])):h("",!0)])]),_:1},8,["show","title","onClose"])])}const tn=v(xt,[["render",sn]]),nn={components:{Modal:P,ContactImage:Y,SuccessToast:$,FailToast:K,IconEdit:Q,ContactGroupDetailModal:Ut,EditContactModal:tn},data(){return{showCreateGroupModal:!1,saveError:!1,saveSuccess:!1,newGroupName:"",missingGroupName:!1,selectedFriendsForNewGroup:[],noFriendSelected:!1,groupDetail:null,groupEdit:null}},computed:{...E(W,z),...b(D,{numFriends:"numFriends",friends:"allFriends",numGroups:"numGroups",groupCards:"getGroupsData",hasNewMessage:"hasNewMessage"}),...b(T,["lg"])},methods:{...F(D,["createGroup","loadFriends","toogleChatbox"]),createGroupModalOpen(){this.newGroupName="",this.missingGroupName=!1,this.selectedFriendsForNewGroup=[],this.noFriendSelected=!1,this.showCreateGroupModal=!0,setTimeout(()=>{document.getElementById("new_group_name").focus()},500)},createGroupModalClose(){this.showCreateGroupModal=!1},clearNameError(){this.missingGroupName=!1},checkBoxChange(){this.noFriendSelected=!1},validateAndCreateGroup(){this.newGroupName.trim()==""&&(this.missingGroupName=!0,document.getElementById("new_group_name").focus()),this.selectedFriendsForNewGroup.length<1&&(this.noFriendSelected=!0),!(this.missingGroupName||this.noFriendSelected)&&(this.saveSuccess=!1,this.loadingStore.startLoading(),this.createGroup({groupName:this.newGroupName.trim(),friends:this.selectedFriendsForNewGroup}).then(()=>{this.loadFriends(),this.loadingStore.finishLoading(),this.createGroupModalClose(),this.saveSuccess=!0,setTimeout(()=>{this.saveSuccess=!1},3e3)}).catch(e=>{this.loadingStore.finishLoading(),this.createGroupModalClose(),e==401?this.$router.push("/login"):(this.saveError=!0,setTimeout(()=>{this.saveError=!1},3e3))}))},showGroupDetail(e){this.groupDetail=e},hideGroupDetail(){this.groupDetail=null},showGroupEdit(e){this.groupEdit=e},hideGroupEdit(e){this.groupEdit=null,e&&(e=="SUC"&&(this.saveSuccess=!0,setTimeout(()=>{this.saveSuccess=!1},3e3)),e=="ER"&&(this.saveError=!0,setTimeout(()=>{this.saveError=!1},3e3)))}}},rn={class:"friend-list-container"},on={class:"friend-actions"},an={class:"contact-total"},dn={class:"friend-list"},ln={class:"friend-data"},un=["onClick"],cn=["onClick"],hn=["onClick"],gn={for:"new_group_name"},mn={key:0,class:"text-danger"},fn={class:"contact-total"},pn=["id","value"],_n=["for"],bn={key:0},Sn={key:0,class:"text-danger"},vn={class:"mt-2"};function qn(e,s,l,u,r,n){const p=g("ContactImage"),c=g("IconEdit"),S=g("Modal"),o=g("ContactGroupDetailModal"),R=g("EditContactModal"),M=g("SuccessToast"),B=g("FailToast");return i(),d("div",rn,[t("div",on,[t("p",an,a(e.lg("friends_and_groups_count"))+" : "+a(e.numGroups),1),t("button",{class:"btn-sm btn-secondary",onClick:s[0]||(s[0]=(...f)=>n.createGroupModalOpen&&n.createGroupModalOpen(...f))},a(e.lg("create_group")),1)]),t("div",dn,[(i(!0),d(y,null,G(e.groupCards,f=>(i(),d("div",{key:f.groupId,class:"friend-wrapper mb-1"},[t("div",ln,[t("sup",{class:q(["new-msg",{active:e.hasNewMessage(f.groupId)}])},"⬤",2),m(p,{friends:f.groupUsers},null,8,["friends"]),t("div",null,[t("h5",{onClick:k=>n.showGroupDetail(f)},a(f.groupName),9,un)])]),t("div",null,[f.owner?(i(),d("span",{key:0,class:"icon-edit-btn mr-1",onClick:k=>n.showGroupEdit(f)},[m(c)],8,cn)):h("",!0),t("button",{class:"btn-sm btn-primary",onClick:k=>e.toogleChatbox(f.groupId)},a(e.lg("send_message")),9,hn)])]))),128))]),m(S,{show:r.showCreateGroupModal,size:"lg",title:e.lg("create_group"),showFooter:!1,onClose:n.createGroupModalClose},{default:N(()=>[t("div",null,[t("div",null,[t("label",gn,a(e.lg("new_group_name_lbl")),1),w(t("input",{type:"text",id:"new_group_name",onInput:s[1]||(s[1]=(...f)=>n.clearNameError&&n.clearNameError(...f)),"onUpdate:modelValue":s[2]||(s[2]=f=>r.newGroupName=f)},null,544),[[A,r.newGroupName]]),r.missingGroupName?(i(),d("p",mn,a(e.lg("new_group_name_missing")),1)):h("",!0)]),s[6]||(s[6]=t("hr",{class:"mt-2"},null,-1)),t("div",null,[t("p",fn,a(e.lg("friends_count"))+" : "+a(e.numFriends),1),(i(!0),d(y,null,G(e.friends,f=>(i(),d("div",{key:"friends_"+f.friendId,class:"friend-checkbox"},[w(t("input",{type:"checkbox",id:"friend_"+f.friendId,value:f.friendId,onChange:s[3]||(s[3]=(...k)=>n.checkBoxChange&&n.checkBoxChange(...k)),"onUpdate:modelValue":s[4]||(s[4]=k=>r.selectedFriendsForNewGroup=k)},null,40,pn),[[V,r.selectedFriendsForNewGroup]]),t("label",{for:"friend_"+f.friendId},[m(p,{friends:[f]},null,8,["friends"]),_(" "+a(f.friendName)+" ",1),f.friendCity?(i(),d("span",bn,"( "+a(f.friendCity)+" )",1)):h("",!0)],8,_n)]))),128)),r.noFriendSelected?(i(),d("p",Sn,a(e.lg("no_friend_selected")),1)):h("",!0)]),t("div",vn,[t("button",{class:"btn btn-primary",onClick:s[5]||(s[5]=(...f)=>n.validateAndCreateGroup&&n.validateAndCreateGroup(...f))},a(e.lg("create_group")),1)])])]),_:1},8,["show","title","onClose"]),m(o,{friendGroup:r.groupDetail,onCloseDetails:n.hideGroupDetail},null,8,["friendGroup","onCloseDetails"]),m(R,{friendGroup:r.groupEdit,allFriends:e.friends,onCloseEditDetails:n.hideGroupEdit},null,8,["friendGroup","allFriends","onCloseEditDetails"]),r.saveSuccess?(i(),C(M,{key:0})):h("",!0),r.saveError?(i(),C(B,{key:1})):h("",!0)])}const Rn=v(nn,[["render",qn]]),Cn={components:{ContactTabs:js,Contacts:Rn}},kn={class:"content-body"},In={class:"mt-2"};function yn(e,s,l,u,r,n){const p=g("ContactTabs"),c=g("Contacts");return i(),d("div",kn,[t("div",null,[m(p)]),t("div",In,[m(c)])])}const Gn=v(Cn,[["render",yn]]),Tn={components:{BaseLayout:ee,Home:Gn}};function Fn(e,s,l,u,r,n){const p=g("Home"),c=g("BaseLayout");return i(),C(c,null,{default:N(()=>[m(p)]),_:1})}const Mn=v(Tn,[["render",Fn]]);export{Mn as default};
