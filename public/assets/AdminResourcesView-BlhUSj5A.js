import{A as C}from"./AdminLayout-CXKf-ib0.js";import{I}from"./IconSearch-DsWvSKea.js";import{_,c as x,f as k,s as a,x as r,g as u,h as e,t as o,i as m,l as d,v as p,k as y,B as S,G as V,D,F as R,C as w,n as A,q as f,o as B,w as L}from"./index-C7TynqHL.js";import{I as N}from"./IconEdit-Qe5AWj0y.js";import{I as T}from"./IconUser-DLJOYr0g.js";import"./admin_user-DxxYpULx.js";import"./LoadingOverlay-BwymM3qd.js";const F={components:{IconSearch:I,IconEyeOpen:x,IconEdit:N,IconUser:T},data(){return{users:[],userDetail:null,isEdit:!1,limit:10,offset:1,totalCount:0,searchText:"",submitting:!1}},computed:{},methods:{searchUsers(){},fetchUsers(){k.get("/api/admin/users?s=1&l="+parseInt(this.limit)).then(i=>{this.users=i.data.users}).catch(i=>{console.log(i)})},viewUser(i){this.userDetail=i},viewEditUser(i){this.isEdit=!0,this.userDetail=i},closeDetail(){this.isEdit=!1,this.userDetail=null}}},z={class:"resurce"},G={key:0,class:"detail-container"},M={class:"details-header"},O={class:"mt-2"},P=["src"],K={key:1,class:"icon-lg"},q={class:"detail"},X=["readonly"],j=["readonly"],H=["readonly"],J=["readonly"],Q={key:1},W={class:"resurce-control"},Y={class:"password-container"},Z=["disabled"],$=["disabled"],ee={class:"icon"},te=["onClick"],se=["onClick"];function ne(i,t,v,U,s,l){const c=a("IconUser"),b=a("IconSearch"),g=a("IconEyeOpen"),E=a("IconEdit");return r(),u("div",z,[s.userDetail?(r(),u("div",G,[e("div",M,[e("h2",null,o(s.userDetail.username),1),e("button",{class:"btn-sm btn-secondary",onClick:t[0]||(t[0]=(...n)=>l.closeDetail&&l.closeDetail(...n))},"X")]),e("div",O,[s.userDetail.profile_img?(r(),u("img",{key:0,src:s.userDetail.profile_img,alt:"Profile Image",class:"profile-img md"},null,8,P)):(r(),u("span",K,[m(c)]))]),e("div",q,[e("p",null,[t[10]||(t[10]=e("b",null,"E-mail: ",-1)),d(e("input",{type:"text",readonly:!s.isEdit,"onUpdate:modelValue":t[1]||(t[1]=n=>s.userDetail.email=n)},null,8,X),[[p,s.userDetail.email]])]),e("p",null,[t[11]||(t[11]=e("b",null,"Language: ",-1)),y(o(s.userDetail.lg),1)]),e("p",null,[t[12]||(t[12]=e("b",null,"Country: ",-1)),d(e("input",{type:"text",readonly:!s.isEdit,"onUpdate:modelValue":t[2]||(t[2]=n=>s.userDetail.country=n)},null,8,j),[[p,s.userDetail.country]])]),e("p",null,[t[13]||(t[13]=e("b",null,"City: ",-1)),d(e("input",{type:"text",readonly:!s.isEdit,"onUpdate:modelValue":t[3]||(t[3]=n=>s.userDetail.city=n)},null,8,H),[[p,s.userDetail.city]])]),e("p",null,[t[14]||(t[14]=e("b",null,"Description: ",-1)),d(e("textarea",{name:"description",readonly:!s.isEdit,"onUpdate:modelValue":t[4]||(t[4]=n=>s.userDetail.description=n)},null,8,J),[[p,s.userDetail.description]])]),e("p",null,[t[15]||(t[15]=e("b",null,"IP: ",-1)),y(o(s.userDetail.ip),1)]),e("p",null,[t[16]||(t[16]=e("b",null,"Device Data: ",-1)),e("span",null,o(s.userDetail.device_data),1)]),e("p",null,[t[17]||(t[17]=e("b",null,"Created At: ",-1)),y(o(s.userDetail.created_at),1)])])])):(r(),u("div",Q,[t[20]||(t[20]=e("h2",null,"Users",-1)),e("div",W,[e("div",Y,[d(e("input",{id:"search_input",type:"text","onUpdate:modelValue":t[5]||(t[5]=n=>s.searchText=n),disabled:s.submitting,onKeypress:t[6]||(t[6]=S((...n)=>l.searchUsers&&l.searchUsers(...n),["enter"]))},null,40,Z),[[p,s.searchText]]),e("button",{type:"button",onClick:t[7]||(t[7]=(...n)=>l.searchUsers&&l.searchUsers(...n)),disabled:s.submitting},[e("span",ee,[m(b)])],8,$)]),e("div",null,[d(e("select",{name:"pag_size",id:"pag_size","onUpdate:modelValue":t[8]||(t[8]=n=>s.limit=n)},t[18]||(t[18]=[D('<option value="5">5 / page</option><option value="10">10 / page</option><option value="15">15 / page</option><option value="20">20 / page</option><option value="25">25 / page</option>',5)]),512),[[V,s.limit]]),e("button",{class:"btn-sm btn-primary",onClick:t[9]||(t[9]=(...n)=>l.fetchUsers&&l.fetchUsers(...n))},"Fetch All Users")])]),e("table",null,[t[19]||(t[19]=e("tr",null,[e("th",null,"ID"),e("th",null,"Name"),e("th",null,"E-mail"),e("th",null,"Language"),e("th",null,"Country"),e("th",null,"City"),e("th",null,"Description"),e("th",null,"Created At"),e("th",null,"Actions")],-1)),(r(!0),u(R,null,w(s.users,n=>(r(),u("tr",null,[e("td",null,o(n.id),1),e("td",null,o(n.username),1),e("td",null,o(n.email),1),e("td",null,o(n.lg),1),e("td",null,o(n.country),1),e("td",null,o(n.city),1),e("td",null,o(n.description),1),e("td",null,o(n.created_at),1),e("td",null,[e("span",{class:"icon-edit-btn ml-1",onClick:h=>l.viewUser(n)},[m(g)],8,te),e("span",{class:"icon-edit-btn ml-1",onClick:h=>l.viewEditUser(n)},[m(E)],8,se)])]))),256))]),t[21]||(t[21]=e("div",null," Pagination ",-1))]))])}const oe=_(F,[["render",ne]]),le={components:{UsersResource:oe},data(){return{resource:"USERS"}}},ie={class:"admin-resource-holder"},re={class:"admin-resource-side"},ue={class:"admin-resource-content"};function ae(i,t,v,U,s,l){const c=a("UsersResource");return r(),u("div",ie,[e("div",re,[e("button",{type:"button",class:A(["resource-btn",{active:s.resource=="USERS"}]),onClick:t[0]||(t[0]=b=>s.resource="USERS")},"Users",2),t[1]||(t[1]=D('<button type="button" class="resource-btn">Groups</button><button type="button" class="resource-btn">Group Users</button><button type="button" class="resource-btn">Friends</button><button type="button" class="resource-btn">Chat Messages</button><button type="button" class="resource-btn">Logs</button><button type="button" class="resource-btn">Admin Users</button>',6))]),e("div",ue,[s.resource=="USERS"?(r(),f(c,{key:0})):B("",!0)])])}const de=_(le,[["render",ae]]),ce={components:{AdminLayout:C,BaseResurce:de}};function pe(i,t,v,U,s,l){const c=a("BaseResurce"),b=a("AdminLayout");return r(),f(b,null,{default:L(()=>[m(c)]),_:1})}const fe=_(ce,[["render",pe]]);export{fe as default};
