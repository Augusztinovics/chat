import{d,f as u,m as c,_ as a,x as o,g as p,h as f,z as h,q as m,w as g,s as _,k as $}from"./index-BkeYo-U-.js";const y=d("user",{state:()=>({loaded:!1,id:null,username:"",email:"",lg:"HU",country:"",city:"",description:"",profileImg:null}),actions:{load(){return new Promise((s,t)=>{u.get("/api/resources/user-data").then(e=>{console.log(e),this.id=e.data.userId,this.username=e.data.username,this.email=e.data.userEmail,this.lg=e.data.userLg,this.country=e.data.userCountry,this.city=e.data.userCity,this.description=e.data.userDescription,this.profileImg=e.data.userProfileImg,this.loaded=!0,s(!0)}).catch(e=>{e.response.status==401?t(401):t(e)})})}}}),B={data(){return{loading:!1,loadingError:!1}},computed:{...c(y)},methods:{loadUser(){this.userStore.loaded||(this.loading=!0,this.loadingError=!1,this.userStore.load().then(()=>{this.loading=!1}).catch(s=>{this.loading=!1,s==401?this.$router.push("/login"):this.loadingError=!0}))}},mounted(){this.loadUser()}};function x(s,t,e,r,n,i){return o(),p("div",null,[t[0]||(t[0]=f("h1",null,"Base Layout",-1)),h(s.$slots,"default")])}const S=a(B,[["render",x]]),k={components:{BaseLayout:S},props:["socket"]};function E(s,t,e,r,n,i){const l=_("BaseLayout");return o(),m(l,null,{default:g(()=>t[0]||(t[0]=[$("You Are Home")])),_:1})}const w=a(k,[["render",E]]);export{w as default};
