import{d as S,f as p,_ as m,x as c,g as h,h as s,R as x,y as b,I as w,a as $,c as C,L as E,m as B,e as k,u as z,i as a,w as u,t as l,A as U,q as H,o as P,s as i}from"./index-DqbMNc0f.js";const O=S("user",{state:()=>({loaded:!1,id:null,username:"",email:"",lg:"HU",country:"",city:"",description:"",profileImg:null}),actions:{load(){return new Promise((o,t)=>{p.get("/api/resources/user-data").then(e=>{this.id=e.data.userId,this.username=e.data.username,this.email=e.data.userEmail,this.lg=e.data.userLg,this.country=e.data.userCountry,this.city=e.data.userCity,this.description=e.data.userDescription,this.profileImg=e.data.userProfileImg,this.loaded=!0,o(!0)}).catch(e=>{e.response.status==401?t(401):t(e)})})},updateUser(o){return new Promise((t,e)=>{p.post("/api/resources/user-update",o).then(n=>{this.id=n.data.userId,this.username=n.data.username,this.email=n.data.userEmail,this.lg=n.data.userLg,this.country=n.data.userCountry,this.city=n.data.userCity,this.description=n.data.userDescription,this.profileImg=n.data.userProfileImg,this.loaded=!0,t(!0)}).catch(n=>{var r;n.response.status==401?e(401):n.response.status==417?e(417):n.response.status==400?e((r=n.response.data)==null?void 0:r.message):e(n)})})},deleteUser(o){return new Promise((t,e)=>{p.post("/api/resources/user-delete",o).then(()=>{this.id=null,this.username="",this.email="",this.lg="HU",this.country="",this.city="",this.description="",this.profileImg=null,this.loaded=!1,t(!0)}).catch(n=>{e(n)})})}}}),R={},D={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"};function M(o,t){return c(),h("svg",D,t[0]||(t[0]=[s("path",{d:"M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"},null,-1)]))}const N=m(R,[["render",M]]),T={},V={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"};function q(o,t){return c(),h("svg",V,t[0]||(t[0]=[s("path",{d:"M64 64l224 0 0 9.8c0 39-23.7 74-59.9 88.4C167.6 186.5 128 245 128 310.2l0 73.8s0 0 0 0l-64 0L64 64zm288 0l224 0 0 320-67.7 0-3.7-4.5-75.2-90.2c-9.1-10.9-22.6-17.3-36.9-17.3l-71.1 0-41-63.1c-.3-.5-.6-1-1-1.4c44.7-29 72.5-79 72.5-133.6l0-9.8zm73 320l-45.8 0 42.7 64L592 448c26.5 0 48-21.5 48-48l0-352c0-26.5-21.5-48-48-48L48 0C21.5 0 0 21.5 0 48L0 400c0 26.5 21.5 48 48 48l260.2 0 33.2 49.8c9.8 14.7 29.7 18.7 44.4 8.9s18.7-29.7 8.9-44.4L310.5 336l74.6 0 40 48zm-159.5 0L192 384s0 0 0 0l0-73.8c0-10.2 1.6-20.1 4.7-29.5L265.5 384zM192 128a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"},null,-1)]))}const A=m(T,[["render",q]]),F={},G={class:"overlay"};function J(o,t){return c(),h("div",G,t[0]||(t[0]=[s("div",{class:"overlay-icon-box"},[s("span",{class:"loader"})],-1)]))}const K=m(F,[["render",J]]),Q={components:{RouterLink:x,IconIdCard:b,IconTerms:w,IconShield:$,IconEyeOpen:C,LgSelector:E,IconHome:N,ExitIcon:A,LoadingOverlay:K},data(){return{loading:!1,loadingError:!1}},computed:{...B(O),...k(z,["lg"])},methods:{loadUser(){this.userStore.loaded||(this.loading=!0,this.loadingError=!1,this.userStore.load().then(()=>{this.loading=!1}).catch(o=>{this.loading=!1,o==401?this.$router.push("/login"):this.loadingError=!0}))}},mounted(){this.loadUser()}},W={class:"base-layout-body"},X={class:"top-nav"},Y={class:"nav-box"},Z={class:"icon"},j={class:"hide-mb ml-05 text-bold"},ss={class:"icon"},es={class:"hide-mb ml-05 text-bold"},ts={class:"nav-box"},os={class:"icon"},ns={class:"hide-mb ml-05 text-bold"},as={class:"icon"},is={class:"hide-mb ml-05 text-bold"},ls={class:"nav-box"},cs={href:"/logout",class:"menu-item ml-2"},rs={class:"icon"},ds={class:"hide-mb ml-05 text-bold"},us={class:"content"};function ms(o,t,e,n,r,hs){const _=i("IconTerms"),d=i("RouterLink"),g=i("IconShield"),f=i("IconHome"),v=i("IconIdCard"),I=i("LgSelector"),y=i("ExitIcon"),L=i("LoadingOverlay");return c(),h("div",W,[s("div",X,[s("nav",null,[s("div",Y,[a(d,{to:"/home/terms",class:"mr-2 menu-item"},{default:u(()=>[s("span",Z,[a(_)]),s("span",j,l(o.lg("terms")),1)]),_:1}),a(d,{to:"/home/privacy",class:"mr-2 menu-item"},{default:u(()=>[s("span",ss,[a(g)]),s("span",es,l(o.lg("privacy")),1)]),_:1})]),s("div",ts,[a(d,{to:"/home",class:"menu-item mr-2"},{default:u(()=>[s("span",os,[a(f)]),s("span",ns,l(o.lg("home")),1)]),_:1}),a(d,{to:"/home/profile",class:"menu-item mr-2"},{default:u(()=>[s("span",as,[a(v)]),s("span",is,l(o.lg("profile")),1)]),_:1})]),s("div",ls,[a(I,{class:"menu-item"}),s("a",cs,[s("span",rs,[a(y)]),s("span",ds,l(o.lg("logout")),1)])])])]),t[0]||(t[0]=s("div",{class:"side-nav"},[s("div",{class:"side-nav-box"},[s("p",null,"Side"),s("p",null,"Side"),s("p",null,"Side"),s("p",null,"Side"),s("p",null,"Side"),s("p",null,"Side"),s("p",null,"Side"),s("p",null,"Side")])],-1)),s("div",us,[U(o.$slots,"default")]),r.loading?(c(),H(L,{key:0})):P("",!0)])}const _s=m(Q,[["render",ms]]);export{_s as B,K as L,O as u};
