import{L as C,p as w,B as E}from"./BaseLayout-DHathZxV.js";import{I}from"./IconUser-BfPd633W.js";import{_ as m,x as n,g as i,h as s,i as l,t as _,o as u,s as c,e as x,m as R,f as L,u as y,l as z,v as B,z as N,k as F,F as U,A as D,q as b,B as O,n as g,w as M}from"./index-B2Oq6OXQ.js";import{F as A}from"./FailToast-92lc45oW.js";const H={},P={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"};function V(t,e){return n(),i("svg",P,e[0]||(e[0]=[s("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},null,-1)]))}const k=m(H,[["render",V]]),q={},G={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function K(t,e){return n(),i("svg",G,e[0]||(e[0]=[s("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"},null,-1)]))}const j=m(q,[["render",K]]),J={},Q={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"};function W(t,e){return n(),i("svg",Q,e[0]||(e[0]=[s("path",{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},null,-1)]))}const X=m(J,[["render",W]]),Y={props:{friend:{type:Object,default(t){return{friendId:null,friendName:"",friendDescription:"",friendCountry:"",friendCity:"",friendImg:null,reqId:null,reqAcceptedDate:null,sendId:null,sendAcceptedDate:null}}}},components:{IconUser:I},computed:{hasFriend(){return this.friend.friendId!=null}}},Z={key:0,class:"friend-card"},ee={class:"friend-card-img"},se=["src"],te={key:1,class:"icon-lg"},ne={class:"friend-card-name"};function oe(t,e,d,p,o,a){const h=c("IconUser");return a.hasFriend?(n(),i("div",Z,[s("div",ee,[d.friend.friendImg?(n(),i("img",{key:0,src:d.friend.friendImg,alt:"Profile Image",class:"profile-img md"},null,8,se)):(n(),i("span",te,[l(h)]))]),s("div",ne,[s("h5",null,_(d.friend.friendName),1)]),e[0]||(e[0]=s("div",{class:"friend-card-action"}," Actions!!! ",-1))])):u("",!0)}const ae=m(Y,[["render",oe]]),ie={components:{IconSearch:k,LoadingOverlay:C,FailToast:A,FriendCard:ae},data(){return{submitting:!1,searchText:"",firstSearch:!0,searchResult:[],searchError:!1,paginationIndex:0}},computed:{...x(y,["lg"]),...R(w),hasSearchResult(){return this.searchResult.length>0},hasPagination(){return this.searchResult.length>this.paginationSizesStore.topSize},rightPaginationDisabled(){return this.paginationIndex*this.paginationSizesStore.topSize+this.paginationSizesStore.topSize>=this.searchResult.length},cardsToShow(){let t=[];if(!this.hasSearchResult)return t;let e=this.paginationIndex*this.paginationSizesStore.topSize;e>this.searchResult.length-1&&(e=this.searchResult.length-1),this.paginationSizesStore.topSize>=this.searchResult.length&&(e=0);let d=e+this.paginationSizesStore.topSize;d>this.searchResult.length&&(d=this.searchResult.length);for(let p=e;p<d;p++)t.push(this.searchResult[p]);return t}},methods:{searchUsers(){this.searchText.trim()!=""&&(this.firstSearch=!1,this.submitting=!0,this.searchError=!1,L.get("/api/resources/search-user?un="+this.searchText.trim()).then(t=>{this.submitting=!1,this.searchResult=t.data.users}).catch(t=>{this.submitting=!1,this.searchError=!0,setTimeout(()=>{this.searchError=!1},3e3),console.log(t)}))},paginateLeft(){this.paginationIndex--},paginateRight(){this.paginationIndex++}},mounted(){this.submitting=!1,this.searchText="",this.firstSearch=!0,document.getElementById("search_input").focus()}},ce={class:"search-menu"},re={class:"user-search-input"},le={for:"search_input"},de={class:"password-container"},he=["disabled"],_e=["disabled"],ue={class:"icon"},pe={key:0,class:"search-result-holder"},me={class:"results"},fe={key:0},ge=["disabled"],be={class:"result-cards"},Se={key:1},ve=["disabled"],Te={key:1,class:"search-result-no-result-holder"},Ie={key:0},xe={key:1};function ye(t,e,d,p,o,a){const h=c("IconSearch"),f=c("FriendCard"),S=c("LoadingOverlay"),v=c("FailToast");return n(),i("div",null,[s("div",ce,[s("div",re,[s("label",le,_(t.lg("user_search")),1),s("div",de,[z(s("input",{id:"search_input",type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>o.searchText=r),disabled:o.submitting,onKeypress:e[1]||(e[1]=N((...r)=>a.searchUsers&&a.searchUsers(...r),["enter"]))},null,40,he),[[B,o.searchText]]),s("button",{type:"button",onClick:e[2]||(e[2]=(...r)=>a.searchUsers&&a.searchUsers(...r)),disabled:o.submitting},[s("span",ue,[l(h)])],8,_e)])])]),s("div",null,[a.hasSearchResult?(n(),i("div",pe,[s("p",null,[s("span",null,_(o.searchResult.length),1),e[5]||(e[5]=F()),s("span",null,_(t.lg("results")),1)]),s("div",me,[a.hasPagination?(n(),i("div",fe,[s("button",{type:"button",disabled:o.paginationIndex==0,class:"pag-btn",onClick:e[3]||(e[3]=(...r)=>a.paginateLeft&&a.paginateLeft(...r))},"<",8,ge)])):u("",!0),s("div",be,[(n(!0),i(U,null,D(a.cardsToShow,r=>(n(),b(f,{key:"friend_"+r.friendId,friend:r},null,8,["friend"]))),128))]),a.hasPagination?(n(),i("div",Se,[s("button",{type:"button",disabled:a.rightPaginationDisabled,class:"pag-btn",onClick:e[4]||(e[4]=(...r)=>a.paginateRight&&a.paginateRight(...r))},">",8,ve)])):u("",!0)])])):(n(),i("div",Te,[o.firstSearch?(n(),i("p",Ie,_(t.lg("user_search_before")),1)):(n(),i("p",xe,_(t.lg("user_search_not_find")),1))]))]),o.submitting?(n(),b(S,{key:0})):u("",!0),o.searchError?(n(),b(v,{key:1})):u("",!0)])}const ke=m(ie,[["render",ye]]),$e={components:{IconUser:I,IconEarth:O,IconSearch:k,IconLeft:j,IconRight:X,SearchContactTab:ke},data(){return{selectedTab:"SOME"}},computed:{...x(y,["lg"])},methods:{selectTab(t){t==this.selectedTab?this.selectedTab="NONE":this.selectedTab=t}}},Ce={class:"contact-tabs"},we={class:"tab"},Ee={class:"icon"},Re={class:"icon"},Le={class:"tab-text"},ze={class:"icon"},Be={class:"icon"},Ne={class:"tab-text"},Fe={class:"icon"},Ue={class:"icon"},De={class:"tab-text"},Oe={class:"icon"},Me={class:"icon"},Ae={class:"tab-text"},He={key:0,class:"tab-content"},Pe={key:0},Ve={key:1},qe={key:2},Ge={key:3};function Ke(t,e,d,p,o,a){const h=c("IconUser"),f=c("IconEarth"),S=c("IconSearch"),v=c("IconLeft"),r=c("IconRight"),$=c("SearchContactTab");return n(),i("div",Ce,[s("div",we,[s("span",{class:g(["tab-menu",{"active-tab":o.selectedTab=="SOME"}]),onClick:e[0]||(e[0]=T=>a.selectTab("SOME"))},[s("span",Ee,[l(h)]),s("span",Re,[l(f)]),s("span",Le,_(t.lg("who_can_know")),1)],2),s("span",{class:g(["tab-menu",{"active-tab":o.selectedTab=="SEARCH"}]),onClick:e[1]||(e[1]=T=>a.selectTab("SEARCH"))},[s("span",ze,[l(h)]),s("span",Be,[l(S)]),s("span",Ne,_(t.lg("contact_search")),1)],2),s("span",{class:g(["tab-menu",{"active-tab":o.selectedTab=="GET"}]),onClick:e[2]||(e[2]=T=>a.selectTab("GET"))},[s("span",Fe,[l(h)]),s("span",Ue,[l(v)]),s("span",De,_(t.lg("friend_requests")),1)],2),s("span",{class:g(["tab-menu",{"active-tab":o.selectedTab=="SEND"}]),onClick:e[3]||(e[3]=T=>a.selectTab("SEND"))},[s("span",Oe,[l(h)]),s("span",Me,[l(r)]),s("span",Ae,_(t.lg("send_requests")),1)],2)]),o.selectedTab!="NONE"?(n(),i("div",He,[o.selectedTab=="SOME"?(n(),i("div",Pe,"Ajanlas")):u("",!0),o.selectedTab=="SEARCH"?(n(),i("div",Ve,[l($)])):u("",!0),o.selectedTab=="GET"?(n(),i("div",qe,"Kapottak")):u("",!0),o.selectedTab=="SEND"?(n(),i("div",Ge,"Elkuldtem, de hun a valasz")):u("",!0)])):u("",!0)])}const je=m($e,[["render",Ke]]),Je={};function Qe(t,e,d,p,o,a){return n(),i("div",null," contacts ")}const We=m(Je,[["render",Qe]]),Xe={components:{ContactTabs:je,Contacts:We}},Ye={class:"mt-2"};function Ze(t,e,d,p,o,a){const h=c("ContactTabs"),f=c("Contacts");return n(),i("div",null,[s("div",null,[l(h)]),s("div",Ye,[l(f)])])}const es=m(Xe,[["render",Ze]]),ss={components:{BaseLayout:E,Home:es},props:["socket"]};function ts(t,e,d,p,o,a){const h=c("Home"),f=c("BaseLayout");return n(),b(f,null,{default:M(()=>[l(h)]),_:1})}const cs=m(ss,[["render",ts]]);export{cs as default};
