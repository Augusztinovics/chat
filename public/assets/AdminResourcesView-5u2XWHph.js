import{A as W}from"./AdminLayout-D8zcm-Lv.js";import{I as x,a as R}from"./IconSearch-jlil8nWn.js";import{c as L,b as N,m as V,f as b,_ as P,s as h,x as l,g as u,h as s,t as a,k as _,l as c,v as g,o as m,i as f,E as M,B as O,D as T,F,C as B,w as G,n as E,p as z,q as w}from"./index-DzxYLT7g.js";import{I as X,S as q,F as K,M as H}from"./SuccessToast-Dvf58y-E.js";import{I as j}from"./IconUser-BItc9rbt.js";import{a as J}from"./admin_user-CPJxOsgj.js";import{l as Q}from"./LoadingOverlay-C3hE2xGN.js";const Y={components:{IconSearch:x,IconEyeOpen:L,IconEyeClose:N,IconEdit:X,IconUser:j,IconX:R,SuccessToast:q,FailToast:K,Modal:H},data(){return{users:[],userDetail:null,isEdit:!1,updateId:null,limit:10,offset:1,totalCount:0,searchText:"",submitting:!1,errorMsg:"",saveSuccess:!1,saveError:!1,showPswModal:!1,confirmPsw:"",showPassword:!1,missingPassword:!1,deleteUserId:null}},computed:{...V(J,Q),canEdit(){return this.adminUserStore.roleId>1},usersNum(){return this.users.length},hasResult(){return this.usersNum>0},pageCount(){return this.totalCount<1?0:Math.ceil(this.totalCount/this.limit)},passwordInputType(){return this.showPassword?"text":"password"}},methods:{clearErrors(){this.missingPassword=!1},toogleShowPassword(){this.showPassword=!this.showPassword},paginateLeft(){this.offset<2||(this.offset--,this.fetchUsers(null,this.offset))},paginatRight(){this.offset>=this.pageCount||(this.offset++,this.fetchUsers(null,this.offset))},fetchUsers(o,e=1){let d={s:e,l:parseInt(this.limit),st:this.searchText};this.loadingStore.startLoading(),b.get("/api/admin/users?"+new URLSearchParams(d).toString()).then(p=>{this.users=p.data.users,this.totalCount=p.data.result_count,this.offset=e,this.loadingStore.finishLoading()}).catch(p=>{this.loadingStore.finishLoading(),console.log(p),this.errorMsg=p.message,this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},5e3)})},viewUser(o){this.userDetail=o},viewEditUser(o){this.isEdit=!0,this.updateId=o.id,this.userDetail={...o}},closeDetail(){this.isEdit=!1,this.userDetail=null,this.updateId=null},createNewUser(){this.isEdit=!0,this.userDetail={id:0,username:null,password:null,email:null,lg:null,country:null,city:null,description:null,profile_img:null,ip:null,device_data:null,created_at:null}},cancelAction(){this.showPswModal=!1,this.confirmPsw="",this.deleteUserId=null},performAction(){if(this.confirmPsw.length<1){this.missingPassword=!0;return}let o=null;if(this.deleteUserId)o={method:"DELETE",psw:this.confirmPsw,delete_id:this.deleteUserId},this.postData(o);else if(this.isEdit&&this.userDetail)if(this.userDetail.id>0&&this.updateId){o={method:"UPDATE",psw:this.confirmPsw,user_id:this.userDetail.id};let e=this.users.find(p=>p.id==this.updateId);if(!e){this.showPswModal=!1,this.updateId=null,this.userDetail=null,this.confirmPsw="",this.errorMsg="Unable to find original user!",this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},5e3);return}let d=!1;if(e.username!==this.userDetail.username.trim()&&(o.username=this.userDetail.username.trim(),d=!0),this.userDetail.email&&e.email!==this.userDetail.email&&this.userDetail.email.trim().length>6&&this.userDetail.email.includes("@")&&(o.email=this.userDetail.email.trim(),d=!0),e.lg!==this.userDetail.lg&&(o.lg=this.userDetail.lg,d=!0),this.userDetail.country&&e.country!==this.userDetail.country.trim()&&(o.country=this.userDetail.country.trim(),d=!0),this.userDetail.city&&e.city!==this.userDetail.city.trim()&&(o.city=this.userDetail.city.trim(),d=!0),this.userDetail.description&&e.description!==this.userDetail.description.trim()&&(o.description=this.userDetail.description.trim(),d=!0),this.userDetail.ip&&e.ip!==this.userDetail.ip.trim()&&(o.ip=this.userDetail.ip.trim(),d=!0),this.userDetail.device_data&&e.device_data!==this.userDetail.device_data.trim()&&(o.device_data=this.userDetail.device_data.trim(),d=!0),d)this.postData(o);else{this.errorMsg="Nothing to update!",this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},3e3);return}}else{if(o={method:"CREATE",psw:this.confirmPsw},this.userDetail.username&&this.userDetail.username.trim().length>0)o.username=this.userDetail.username.trim();else{this.errorMsg="Username is required!",this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},3e3);return}if(this.userDetail.password&&this.userDetail.password.trim().length>5)o.password=this.userDetail.password.trim();else{this.errorMsg="Password is required! And 6 or more character",this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},3e3);return}if(this.userDetail.email&&this.userDetail.email.trim().length>6&&this.userDetail.email.includes("@")&&(o.email=this.userDetail.email.trim()),this.userDetail.lg)o.lg=this.userDetail.lg;else{this.errorMsg="Language is required!",this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},3e3);return}this.userDetail.country&&this.userDetail.country.trim().length>0&&(o.country=this.userDetail.country.trim()),this.userDetail.city&&this.userDetail.city.trim().length>0&&(o.city=this.userDetail.city.trim()),this.userDetail.description&&this.userDetail.description.trim().length>0&&(o.description=this.userDetail.description.trim()),this.userDetail.ip&&this.userDetail.ip.trim().length>0&&(o.ip=this.userDetail.ip.trim()),this.userDetail.device_data&&this.userDetail.device_data.trim().length>0&&(o.device_data=this.userDetail.device_data.trim()),this.postData(o)}else this.cancelAction()},deleteUser(o){this.deleteUserId=o,this.isEdit=!1,this.updateId=null,this.userDetail=null,this.showPswModal=!0,this.focusOnPassword()},saveUser(){this.deleteUserId=null,this.isEdit&&(this.showPswModal=!0,this.focusOnPassword())},focusOnPassword(){setTimeout(()=>{document.getElementById("password_input").focus()},300)},postData(o){this.loadingStore.startLoading(),this.showPswModal=!1,b.post("/api/admin/users",o).then(()=>{this.loadingStore.finishLoading(),this.deleteUserId=null,this.confirmPsw="",this.fetchUsers(null,1),this.saveSuccess=!0,setTimeout(()=>{this.saveSuccess=!1},3e3)}).catch(e=>{this.loadingStore.finishLoading(),this.deleteUserId=null,this.updateId=null,this.userDetail=null,this.confirmPsw="",console.log(e),this.errorMsg=e.message,this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},5e3)})}}},Z={class:"resurce"},$={key:0,class:"detail-container"},ee={class:"details-header"},se=["readonly"],te={class:"mt-2"},ie=["src"],re={key:1,class:"icon-lg"},oe={class:"detail"},ne={key:0},le=["readonly"],ue=["readonly"],ae=["disabled"],de=["readonly"],he=["readonly"],pe=["readonly"],me=["readonly"],ce=["readonly"],ge={key:1},fe={class:"resurce-control"},we={class:"password-container"},De=["disabled"],ye=["disabled"],ve={class:"icon"},_e=["onClick"],be=["onClick"],Ee=["onClick"],Pe={key:0,class:"text-center mt-2"},Ue=["disabled"],Ce={class:"mr-1 ml-1"},Ie=["disabled"],ke={class:"password-container"},Se=["type"],Me={class:"icon"},Te={key:0,class:"invalid-text"};function Ge(o,e,d,p,t,i){const y=h("IconUser"),D=h("IconSearch"),v=h("IconEyeOpen"),U=h("IconEdit"),C=h("IconX"),I=h("IconEyeClose"),k=h("Modal"),S=h("SuccessToast"),n=h("FailToast");return l(),u("div",Z,[t.userDetail?(l(),u("div",$,[s("div",ee,[s("h2",null,[s("span",null,"#"+a(t.userDetail.id),1),e[23]||(e[23]=_()),c(s("input",{type:"text",name:"username",readonly:!t.isEdit,"onUpdate:modelValue":e[0]||(e[0]=r=>t.userDetail.username=r)},null,8,se),[[g,t.userDetail.username]])]),s("div",null,[t.isEdit?(l(),u("button",{key:0,class:"btn btn-success mr-2",onClick:e[1]||(e[1]=(...r)=>i.saveUser&&i.saveUser(...r))},"Save")):m("",!0),s("button",{class:"btn-sm btn-secondary",onClick:e[2]||(e[2]=(...r)=>i.closeDetail&&i.closeDetail(...r))},"X")])]),s("div",te,[t.userDetail.profile_img?(l(),u("img",{key:0,src:t.userDetail.profile_img,alt:"Profile Image",class:"profile-img md"},null,8,ie)):(l(),u("span",re,[f(y)]))]),s("div",oe,[t.userDetail.id==0?(l(),u("p",ne,[e[24]||(e[24]=s("b",null,"Password: ",-1)),c(s("input",{type:"text",name:"pass",readonly:!t.isEdit,"onUpdate:modelValue":e[3]||(e[3]=r=>t.userDetail.password=r)},null,8,le),[[g,t.userDetail.password]])])):m("",!0),s("p",null,[e[25]||(e[25]=s("b",null,"E-mail: ",-1)),c(s("input",{type:"text",name:"email",readonly:!t.isEdit,"onUpdate:modelValue":e[4]||(e[4]=r=>t.userDetail.email=r)},null,8,ue),[[g,t.userDetail.email]])]),s("p",null,[e[27]||(e[27]=s("b",null,"Language: ",-1)),e[28]||(e[28]=_()),c(s("select",{name:"user_lg",id:"user_lg",disabled:!t.isEdit,"onUpdate:modelValue":e[5]||(e[5]=r=>t.userDetail.lg=r)},e[26]||(e[26]=[s("option",{value:"HU"},"Magyar",-1),s("option",{value:"SR"},"Serbian",-1),s("option",{value:"EN"},"English",-1)]),8,ae),[[M,t.userDetail.lg]])]),s("p",null,[e[29]||(e[29]=s("b",null,"Country: ",-1)),c(s("input",{type:"text",name:"country",readonly:!t.isEdit,"onUpdate:modelValue":e[6]||(e[6]=r=>t.userDetail.country=r)},null,8,de),[[g,t.userDetail.country]])]),s("p",null,[e[30]||(e[30]=s("b",null,"City: ",-1)),c(s("input",{type:"text",name:"city",readonly:!t.isEdit,"onUpdate:modelValue":e[7]||(e[7]=r=>t.userDetail.city=r)},null,8,he),[[g,t.userDetail.city]])]),s("p",null,[e[31]||(e[31]=s("b",null,"Description: ",-1)),c(s("textarea",{name:"description",readonly:!t.isEdit,"onUpdate:modelValue":e[8]||(e[8]=r=>t.userDetail.description=r)},null,8,pe),[[g,t.userDetail.description]])]),s("p",null,[e[32]||(e[32]=s("b",null,"IP: ",-1)),c(s("input",{type:"text",name:"ip",readonly:!t.isEdit,"onUpdate:modelValue":e[9]||(e[9]=r=>t.userDetail.ip=r)},null,8,me),[[g,t.userDetail.ip]])]),s("p",null,[e[33]||(e[33]=s("b",null,"Device Data: ",-1)),c(s("textarea",{name:"device_data",readonly:!t.isEdit,"onUpdate:modelValue":e[10]||(e[10]=r=>t.userDetail.device_data=r)},null,8,ce),[[g,t.userDetail.device_data]])]),s("p",null,[e[34]||(e[34]=s("b",null,"Created At: ",-1)),_(a(t.userDetail.created_at),1)])])])):(l(),u("div",ge,[e[37]||(e[37]=s("h2",null,"Users",-1)),s("div",fe,[s("div",we,[c(s("input",{id:"search_input",type:"text","onUpdate:modelValue":e[11]||(e[11]=r=>t.searchText=r),disabled:t.submitting,onKeypress:e[12]||(e[12]=O((...r)=>i.fetchUsers&&i.fetchUsers(...r),["enter"]))},null,40,De),[[g,t.searchText]]),s("button",{type:"button",onClick:e[13]||(e[13]=(...r)=>i.fetchUsers&&i.fetchUsers(...r)),disabled:t.submitting},[s("span",ve,[f(D)])],8,ye)]),s("div",null,[c(s("select",{name:"pag_size",id:"pag_size","onUpdate:modelValue":e[14]||(e[14]=r=>t.limit=r),onChange:e[15]||(e[15]=(...r)=>i.fetchUsers&&i.fetchUsers(...r))},e[35]||(e[35]=[T('<option value="2">2 / page</option><option value="10">10 / page</option><option value="15">15 / page</option><option value="20">20 / page</option><option value="25">25 / page</option>',5)]),544),[[M,t.limit]]),s("button",{class:"btn-sm btn-primary",onClick:e[16]||(e[16]=(...r)=>i.fetchUsers&&i.fetchUsers(...r))},"Fetch All Users"),i.canEdit?(l(),u("button",{key:0,class:"btn-sm btn-success ml-2",onClick:e[17]||(e[17]=(...r)=>i.createNewUser&&i.createNewUser(...r))},"Create New User")):m("",!0)])]),s("table",null,[e[36]||(e[36]=s("tr",null,[s("th",null,"ID"),s("th",null,"Name"),s("th",null,"E-mail"),s("th",null,"Language"),s("th",null,"Country"),s("th",null,"City"),s("th",null,"Description"),s("th",null,"Created At"),s("th",null,"Actions")],-1)),(l(!0),u(F,null,B(t.users,r=>(l(),u("tr",{key:r.id},[s("td",null,a(r.id),1),s("td",null,a(r.username),1),s("td",null,a(r.email),1),s("td",null,a(r.lg),1),s("td",null,a(r.country),1),s("td",null,a(r.city),1),s("td",null,a(r.description),1),s("td",null,a(r.created_at),1),s("td",null,[s("span",{class:"icon-edit-btn ml-1",onClick:A=>i.viewUser(r)},[f(v)],8,_e),i.canEdit?(l(),u("span",{key:0,class:"icon-edit-btn ml-1",onClick:A=>i.viewEditUser(r)},[f(U)],8,be)):m("",!0),i.canEdit?(l(),u("span",{key:1,class:"icon-edit-btn danger ml-1",onClick:A=>i.deleteUser(r.id)},[f(C)],8,Ee)):m("",!0)])]))),128))]),i.hasResult?(l(),u("div",Pe,[s("button",{type:"button",class:"btn pag-btn",disabled:t.offset==1,onClick:e[18]||(e[18]=(...r)=>i.paginateLeft&&i.paginateLeft(...r))},"<",8,Ue),s("span",Ce,"Page: "+a(t.offset)+" / "+a(i.pageCount)+" All Resource: "+a(t.totalCount),1),s("button",{type:"button",class:"btn pag-btn",onClick:e[19]||(e[19]=(...r)=>i.paginatRight&&i.paginatRight(...r)),disabled:t.offset>=i.pageCount},">",8,Ie)])):m("",!0)])),f(k,{show:t.showPswModal,size:"sm",title:"Confirmtion Admin Password",showCancel:!0,onClose:i.cancelAction,onCancel:i.cancelAction,onOk:i.performAction},{default:G(()=>[s("div",null,[e[38]||(e[38]=s("label",{for:"password_input"},[_("Admin Update Password"),s("span",null,"*")],-1)),s("div",ke,[c(s("input",{id:"password_input",type:i.passwordInputType,class:E({"invalid-input":t.missingPassword}),"onUpdate:modelValue":e[20]||(e[20]=r=>t.confirmPsw=r),onInput:e[21]||(e[21]=(...r)=>i.clearErrors&&i.clearErrors(...r))},null,42,Se),[[z,t.confirmPsw]]),s("button",{type:"button",onClick:e[22]||(e[22]=(...r)=>i.toogleShowPassword&&i.toogleShowPassword(...r))},[s("span",Me,[t.showPassword?(l(),w(I,{key:0})):(l(),w(v,{key:1}))])])]),t.missingPassword?(l(),u("p",Te,"Please Enter your Admin Update Password!")):m("",!0)])]),_:1},8,["show","onClose","onCancel","onOk"]),t.saveSuccess?(l(),w(S,{key:2})):m("",!0),t.saveError?(l(),w(n,{key:3,msg:t.errorMsg},null,8,["msg"])):m("",!0)])}const Ae=P(Y,[["render",Ge]]),xe={components:{IconSearch:x,IconEyeOpen:L,IconEyeClose:N,IconEdit:X,IconUser:j,IconX:R,SuccessToast:q,FailToast:K,Modal:H},data(){return{groups:[],groupDetail:null,isEdit:!1,updateId:null,limit:10,offset:1,totalCount:0,searchText:"",submitting:!1,errorMsg:"",saveSuccess:!1,saveError:!1,showPswModal:!1,confirmPsw:"",showPassword:!1,missingPassword:!1,deleteGroupId:null}},computed:{...V(J,Q),canEdit(){return this.adminUserStore.roleId>1},groupNum(){return this.groups.length},hasResult(){return this.groupNum>0},pageCount(){return this.totalCount<1?0:Math.ceil(this.totalCount/this.limit)},passwordInputType(){return this.showPassword?"text":"password"}},methods:{clearErrors(){this.missingPassword=!1},toogleShowPassword(){this.showPassword=!this.showPassword},paginateLeft(){this.offset<2||(this.offset--,this.fetchGroups(null,this.offset))},paginatRight(){this.offset>=this.pageCount||(this.offset++,this.fetchGroups(null,this.offset))},fetchGroups(o,e=1){let d={s:e,l:parseInt(this.limit),st:this.searchText};this.loadingStore.startLoading(),b.get("/api/admin/groups?"+new URLSearchParams(d).toString()).then(p=>{this.groups=p.data.groups,this.totalCount=p.data.result_count,this.offset=e,this.loadingStore.finishLoading()}).catch(p=>{this.loadingStore.finishLoading(),console.log(p),this.errorMsg=p.message,this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},5e3)})},viewGroup(o){this.groupDetail=o},viewEditGroup(o){this.isEdit=!0,this.updateId=o.id,this.groupDetail={...o}},closeDetail(){this.isEdit=!1,this.groupDetail=null,this.updateId=null},createNewGroup(){this.isEdit=!0,this.groupDetail={id:0,main_user:null,group_name:null,created_at:null}},cancelAction(){this.showPswModal=!1,this.confirmPsw="",this.deleteGroupId=null},performAction(){if(this.confirmPsw.length<1){this.missingPassword=!0;return}let o=null;if(this.deleteGroupId)o={method:"DELETE",psw:this.confirmPsw,delete_id:this.deleteGroupId},this.postData(o);else if(this.isEdit&&this.groupDetail)if(this.groupDetail.id>0&&this.updateId){o={method:"UPDATE",psw:this.confirmPsw,group_id:this.groupDetail.id};let e=this.groups.find(p=>p.id==this.updateId);if(!e){this.showPswModal=!1,this.updateId=null,this.groupDetail=null,this.confirmPsw="",this.errorMsg="Unable to find original user!",this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},5e3);return}let d=!1;if(e.main_user!==parseInt(this.groupDetail.main_user)&&(o.main_user=parseInt(this.groupDetail.main_user),d=!0),e.group_name!==this.groupDetail.group_name.trim()&&(o.group_name=this.groupDetail.group_name.trim(),d=!0),d)this.postData(o);else{this.errorMsg="Nothing to update!",this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},3e3);return}}else{if(o={method:"CREATE",psw:this.confirmPsw},this.groupDetail.main_user)o.main_user=parseInt(this.groupDetail.main_user);else{this.errorMsg="Main User Id is required!",this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},3e3);return}if(this.groupDetail.group_name&&this.groupDetail.group_name.trim().length>1)o.group_name=this.groupDetail.group_name.trim();else{this.errorMsg="Group Name is required!",this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},3e3);return}this.postData(o)}else this.cancelAction()},deleteGroup(o){this.deleteGroupId=o,this.isEdit=!1,this.updateId=null,this.groupDetail=null,this.showPswModal=!0,this.focusOnPassword()},saveDetail(){this.deleteGroupId=null,this.isEdit&&(this.showPswModal=!0,this.focusOnPassword())},focusOnPassword(){setTimeout(()=>{document.getElementById("password_input").focus()},300)},postData(o){this.loadingStore.startLoading(),this.showPswModal=!1,b.post("/api/admin/groups",o).then(()=>{this.loadingStore.finishLoading(),this.deleteGroupId=null,this.confirmPsw="",this.fetchGroups(null,1),this.saveSuccess=!0,setTimeout(()=>{this.saveSuccess=!1},3e3)}).catch(e=>{this.loadingStore.finishLoading(),this.deleteGroupId=null,this.updateId=null,this.groupDetail=null,this.confirmPsw="",console.log(e),this.errorMsg=e.message,this.saveError=!0,setTimeout(()=>{this.errorMsg="",this.saveError=!1},5e3)})}}},Re={class:"resurce"},Le={key:0,class:"detail-container"},Ne={class:"details-header"},Ve={class:"detail"},Oe=["readonly"],Fe=["readonly"],Be={key:1},ze={class:"resurce-control"},Xe={class:"password-container"},qe=["disabled"],Ke=["disabled"],He={class:"icon"},je=["onClick"],Je=["onClick"],Qe=["onClick"],We={key:0,class:"text-center mt-2"},Ye=["disabled"],Ze={class:"mr-1 ml-1"},$e=["disabled"],es={class:"password-container"},ss=["type"],ts={class:"icon"},is={key:0,class:"invalid-text"};function rs(o,e,d,p,t,i){const y=h("IconSearch"),D=h("IconEyeOpen"),v=h("IconEdit"),U=h("IconX"),C=h("IconEyeClose"),I=h("Modal"),k=h("SuccessToast"),S=h("FailToast");return l(),u("div",Re,[t.groupDetail?(l(),u("div",Le,[s("div",Ne,[s("h2",null,[s("span",null,"#"+a(t.groupDetail.id),1)]),s("div",null,[t.isEdit?(l(),u("button",{key:0,class:"btn btn-success mr-2",onClick:e[0]||(e[0]=(...n)=>i.saveDetail&&i.saveDetail(...n))},"Save")):m("",!0),s("button",{class:"btn-sm btn-secondary",onClick:e[1]||(e[1]=(...n)=>i.closeDetail&&i.closeDetail(...n))},"X")])]),s("div",Ve,[s("p",null,[e[16]||(e[16]=s("b",null,"Main User Id: ",-1)),c(s("input",{type:"number",name:"main_user",readonly:!t.isEdit,"onUpdate:modelValue":e[2]||(e[2]=n=>t.groupDetail.main_user=n)},null,8,Oe),[[g,t.groupDetail.main_user]])]),s("p",null,[e[17]||(e[17]=s("b",null,"Group Name: ",-1)),c(s("input",{type:"text",name:"group_name",readonly:!t.isEdit,"onUpdate:modelValue":e[3]||(e[3]=n=>t.groupDetail.group_name=n)},null,8,Fe),[[g,t.groupDetail.group_name]])]),s("p",null,[e[18]||(e[18]=s("b",null,"Created At: ",-1)),_(a(t.groupDetail.created_at),1)])])])):(l(),u("div",Be,[e[21]||(e[21]=s("h2",null,"Groups",-1)),s("div",ze,[s("div",Xe,[c(s("input",{id:"search_input",type:"text","onUpdate:modelValue":e[4]||(e[4]=n=>t.searchText=n),disabled:t.submitting,onKeypress:e[5]||(e[5]=O((...n)=>i.fetchGroups&&i.fetchGroups(...n),["enter"]))},null,40,qe),[[g,t.searchText]]),s("button",{type:"button",onClick:e[6]||(e[6]=(...n)=>i.fetchGroups&&i.fetchGroups(...n)),disabled:t.submitting},[s("span",He,[f(y)])],8,Ke)]),s("div",null,[c(s("select",{name:"pag_size",id:"pag_size","onUpdate:modelValue":e[7]||(e[7]=n=>t.limit=n),onChange:e[8]||(e[8]=(...n)=>i.fetchGroups&&i.fetchGroups(...n))},e[19]||(e[19]=[T('<option value="2">2 / page</option><option value="10">10 / page</option><option value="15">15 / page</option><option value="20">20 / page</option><option value="25">25 / page</option>',5)]),544),[[M,t.limit]]),s("button",{class:"btn-sm btn-primary",onClick:e[9]||(e[9]=(...n)=>i.fetchGroups&&i.fetchGroups(...n))},"Fetch All Groups"),i.canEdit?(l(),u("button",{key:0,class:"btn-sm btn-success ml-2",onClick:e[10]||(e[10]=(...n)=>i.createNewGroup&&i.createNewGroup(...n))},"Create New Group")):m("",!0)])]),s("table",null,[e[20]||(e[20]=s("tr",null,[s("th",null,"ID"),s("th",null,"Main User Id"),s("th",null,"Group Name"),s("th",null,"Created At"),s("th",null,"Actions")],-1)),(l(!0),u(F,null,B(t.groups,n=>(l(),u("tr",{key:n.id},[s("td",null,a(n.id),1),s("td",null,a(n.main_user),1),s("td",null,a(n.group_name),1),s("td",null,a(n.created_at),1),s("td",null,[s("span",{class:"icon-edit-btn ml-1",onClick:r=>i.viewGroup(n)},[f(D)],8,je),i.canEdit?(l(),u("span",{key:0,class:"icon-edit-btn ml-1",onClick:r=>i.viewEditGroup(n)},[f(v)],8,Je)):m("",!0),i.canEdit?(l(),u("span",{key:1,class:"icon-edit-btn danger ml-1",onClick:r=>i.deleteGroup(n.id)},[f(U)],8,Qe)):m("",!0)])]))),128))]),i.hasResult?(l(),u("div",We,[s("button",{type:"button",class:"btn pag-btn",disabled:t.offset==1,onClick:e[11]||(e[11]=(...n)=>i.paginateLeft&&i.paginateLeft(...n))},"<",8,Ye),s("span",Ze,"Page: "+a(t.offset)+" / "+a(i.pageCount)+" All Resource: "+a(t.totalCount),1),s("button",{type:"button",class:"btn pag-btn",onClick:e[12]||(e[12]=(...n)=>i.paginatRight&&i.paginatRight(...n)),disabled:t.offset>=i.pageCount},">",8,$e)])):m("",!0)])),f(I,{show:t.showPswModal,size:"sm",title:"Confirmtion Admin Password",showCancel:!0,onClose:i.cancelAction,onCancel:i.cancelAction,onOk:i.performAction},{default:G(()=>[s("div",null,[e[22]||(e[22]=s("label",{for:"password_input"},[_("Admin Update Password"),s("span",null,"*")],-1)),s("div",es,[c(s("input",{id:"password_input",type:i.passwordInputType,class:E({"invalid-input":t.missingPassword}),"onUpdate:modelValue":e[13]||(e[13]=n=>t.confirmPsw=n),onInput:e[14]||(e[14]=(...n)=>i.clearErrors&&i.clearErrors(...n))},null,42,ss),[[z,t.confirmPsw]]),s("button",{type:"button",onClick:e[15]||(e[15]=(...n)=>i.toogleShowPassword&&i.toogleShowPassword(...n))},[s("span",ts,[t.showPassword?(l(),w(C,{key:0})):(l(),w(D,{key:1}))])])]),t.missingPassword?(l(),u("p",is,"Please Enter your Admin Update Password!")):m("",!0)])]),_:1},8,["show","onClose","onCancel","onOk"]),t.saveSuccess?(l(),w(k,{key:2})):m("",!0),t.saveError?(l(),w(S,{key:3,msg:t.errorMsg},null,8,["msg"])):m("",!0)])}const os=P(xe,[["render",rs]]),ns={components:{UsersResource:Ae,GroupsResurce:os},data(){return{resource:"USERS"}}},ls={class:"admin-resource-holder"},us={class:"admin-resource-side"},as={class:"admin-resource-content"};function ds(o,e,d,p,t,i){const y=h("UsersResource"),D=h("GroupsResurce");return l(),u("div",ls,[s("div",us,[s("button",{type:"button",class:E(["resource-btn",{active:t.resource=="USERS"}]),onClick:e[0]||(e[0]=v=>t.resource="USERS")},"Users",2),s("button",{type:"button",class:E(["resource-btn",{active:t.resource=="GROUP"}]),onClick:e[1]||(e[1]=v=>t.resource="GROUP")},"Groups",2),e[2]||(e[2]=T('<button type="button" class="resource-btn">Group Users</button><button type="button" class="resource-btn">Friends</button><button type="button" class="resource-btn">Chat Messages</button><button type="button" class="resource-btn">Logs</button><button type="button" class="resource-btn">Admin Users</button>',5))]),s("div",as,[t.resource=="USERS"?(l(),w(y,{key:0})):m("",!0),t.resource=="GROUP"?(l(),w(D,{key:1})):m("",!0)])])}const hs=P(ns,[["render",ds]]),ps={components:{AdminLayout:W,BaseResurce:hs}};function ms(o,e,d,p,t,i){const y=h("BaseResurce"),D=h("AdminLayout");return l(),w(D,null,{default:G(()=>[f(y)]),_:1})}const _s=P(ps,[["render",ms]]);export{_s as default};
